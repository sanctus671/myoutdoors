(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{S8vU:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("AytR"),o=n("fXoL"),r=n("tyNb"),a=n("B7Rs"),s=n("a/9d"),c=n("TEn/"),l=n("ri4K"),u=n("3Pt+"),b=function(){function t(t,e,n,i,o,r,a,s,c){this.router=t,this.transfer=e,this.camera=n,this.loadingController=i,this.alertController=o,this.modalController=r,this.navController=a,this.authenticationService=s,this.navParams=c,this.track={};var l=this.navParams.get("track");this.track=Object.assign({},l)}return t.prototype.ngOnInit=function(){},t.prototype.changeImage=function(){var t=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(e){var n;t.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(t){n=t,t.present()}));var o=t.transfer.create(),r={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};o.upload(e,encodeURI(i.a.apiUrl+"/upload"),r).then((function(e){if(e.response){var i=JSON.parse(e.response);t.track.image=i.file}n.dismiss()}),(function(e){t.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(e),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(t){t.present()})),n.dismiss()}))}),(function(t){}))},t.prototype.dismiss=function(){this.modalController.dismiss()},t.prototype.update=function(){this.modalController.dismiss({track:this.track})},t.\u0275fac=function(e){return new(e||t)(o.Hb(r.g),o.Hb(a.a),o.Hb(s.a),o.Hb(c.J),o.Hb(c.a),o.Hb(c.L),o.Hb(c.M),o.Hb(l.a),o.Hb(c.N))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-edit-track"]],decls:15,vars:1,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"]],template:function(t,e){1&t&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return e.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.lc(6,"Edit Track"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content"),o.Kb(8,"ion-item"),o.Kb(9,"ion-label",4),o.lc(10,"Name"),o.Jb(),o.Kb(11,"ion-input",5),o.Sb("ngModelChange",(function(t){return e.track.name=t})),o.Jb(),o.Jb(),o.Jb(),o.Kb(12,"ion-footer",6),o.Kb(13,"ion-button",7),o.Sb("click",(function(){return e.update()})),o.lc(14," Update "),o.Jb(),o.Jb()),2&t&&(o.xb(11),o.Xb("ngModel",e.track.name))},directives:[c.o,c.G,c.h,c.g,c.p,c.F,c.k,c.r,c.t,c.q,c.R,u.d,u.g,c.n],styles:[""]}),t}()},pCJo:function(t,e,n){"use strict";n.r(e),n.d(e,"EditTrackPageModule",(function(){return b}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("S8vU"),c=n("fXoL"),l=[{path:"",component:s.a}],u=function(){function t(){}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(l)],a.j]}),t}(),b=function(){function t(){}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[i.b,o.a,r.H,u]]}),t}()}}]);