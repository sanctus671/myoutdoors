(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{IEcJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var o=t("AytR"),i=t("fXoL"),a=t("tyNb"),r=t("B7Rs"),c=t("a/9d"),l=t("TEn/"),b=t("ri4K"),s=t("ZH29"),p=t("3Pt+"),m=t("ofXK"),u=t("mUB+");function d(e,n){1&e&&i.Ib(0,"ion-icon",14)}function g(e,n){if(1&e&&(i.Kb(0,"ion-avatar",15),i.Ib(1,"img",16),i.Jb()),2&e){var t=i.Wb();i.xb(1),i.Zb("src",t.placemark.image,i.kc)}}function f(e,n){if(1&e){var t=i.Lb();i.Kb(0,"ion-button",17),i.Sb("click",(function(){return i.ic(t),i.Wb().placemark.image=""})),i.pc(1,"Delete"),i.Jb()}}var h=function(){function e(e,n,t,o,i,a,r,c,l,b){this.router=e,this.transfer=n,this.camera=t,this.loadingController=o,this.alertController=i,this.modalController=a,this.navController=r,this.authenticationService=c,this.navParams=l,this.keyboard=b,this.placemark={};var s=this.navParams.get("placemark");this.placemark=Object.assign({},s)}return e.prototype.ngOnInit=function(){},e.prototype.showKeyboard=function(){this.keyboard.show()},e.prototype.hideKeyboard=function(){this.keyboard.hide()},e.prototype.changeImage=function(e){var n=this;this.camera.getPicture({sourceType:"camera"===e?this.camera.PictureSourceType.CAMERA:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(e){var t;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(e){t=e,e.present()}));var i=n.transfer.create(),a={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};i.upload(e,encodeURI(o.a.apiUrl+"/upload"),a).then((function(e){if(e.response){var o=JSON.parse(e.response);n.placemark.image=o.file}t.dismiss()}),(function(e){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(e),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(e){e.present()})),t.dismiss()}))}),(function(e){}))},e.prototype.dismiss=function(){this.modalController.dismiss()},e.prototype.update=function(){this.modalController.dismiss({placemark:this.placemark})},e.\u0275fac=function(n){return new(n||e)(i.Hb(a.g),i.Hb(r.a),i.Hb(c.a),i.Hb(l.I),i.Hb(l.a),i.Hb(l.K),i.Hb(l.L),i.Hb(b.a),i.Hb(l.M),i.Hb(s.a))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-edit-placemark"]],decls:24,vars:5,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[1,"edit-placemark-image"],["name","home",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],["color","primary","fill","clear",3,"click",4,"ngIf"],["name","description","placeholder","Description",3,"ngModel","ngModelChange","focus","blur"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"],["name","home"],["item-start",""],[3,"src"],["color","primary","fill","clear",3,"click"]],template:function(e,n){1&e&&(i.Kb(0,"ion-header"),i.Kb(1,"ion-toolbar",0),i.Kb(2,"ion-buttons",1),i.Kb(3,"ion-button",2),i.Sb("click",(function(){return n.dismiss()})),i.Ib(4,"ion-icon",3),i.Jb(),i.Jb(),i.Kb(5,"ion-title"),i.pc(6,"Edit Placemark"),i.Jb(),i.Jb(),i.Jb(),i.Kb(7,"ion-content"),i.Kb(8,"ion-item"),i.Kb(9,"ion-label",4),i.pc(10,"Name"),i.Jb(),i.Kb(11,"ion-input",5),i.Sb("ngModelChange",(function(e){return n.placemark.name=e})),i.Jb(),i.Jb(),i.Kb(12,"ion-item",6),i.oc(13,d,1,0,"ion-icon",7),i.oc(14,g,2,1,"ion-avatar",8),i.Kb(15,"ion-button",9),i.Sb("click",(function(){return n.changeImage("library")})),i.pc(16,"Select Image"),i.Jb(),i.Kb(17,"ion-button",9),i.Sb("click",(function(){return n.changeImage("camera")})),i.pc(18,"Take Picture"),i.Jb(),i.oc(19,f,2,0,"ion-button",10),i.Jb(),i.Kb(20,"angular-editor",11),i.Sb("ngModelChange",(function(e){return n.placemark.description=e}))("focus",(function(){return n.showKeyboard}))("blur",(function(){return n.hideKeyboard()})),i.Jb(),i.Jb(),i.Kb(21,"ion-footer",12),i.Kb(22,"ion-button",13),i.Sb("click",(function(){return n.update()})),i.pc(23," Update "),i.Jb(),i.Jb()),2&e&&(i.xb(11),i.Zb("ngModel",n.placemark.name),i.xb(2),i.Zb("ngIf",!n.placemark.image),i.xb(1),i.Zb("ngIf",n.placemark.image),i.xb(5),i.Zb("ngIf",n.placemark.image),i.xb(1),i.Zb("ngModel",n.placemark.description))},directives:[l.o,l.F,l.h,l.g,l.p,l.E,l.k,l.r,l.t,l.q,l.Q,p.e,p.h,m.j,u.a,l.n,l.d],styles:[".edit-placemark-image[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px}angular-editor[_ngcontent-%COMP%]{margin-top:20px;display:block}"]}),e}()},z5KQ:function(e,n,t){"use strict";t.r(n),t.d(n,"EditPlacemarkPageModule",(function(){return p}));var o=t("ofXK"),i=t("3Pt+"),a=t("TEn/"),r=t("tyNb"),c=t("IEcJ"),l=t("fXoL"),b=[{path:"",component:c.a}],s=function(){function e(){}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[r.j.forChild(b)],r.j]}),e}(),p=function(){function e(){}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[o.b,i.b,a.G,s]]}),e}()}}]);