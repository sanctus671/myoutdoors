(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{KXRs:function(n,t,e){"use strict";e.d(t,"a",(function(){return b}));var o=e("mrSG"),r=e("OSM0"),i=e("fXoL"),s=e("TEn/"),c=e("ri4K"),a=e("ohih"),g=e("ofXK");function u(n,t){1&n&&(i.Kb(0,"div",9),i.Ib(1,"ion-spinner",0),i.Jb())}function p(n,t){1&n&&(i.Kb(0,"span"),i.pc(1,"s"),i.Jb())}function l(n,t){if(1&n){var e=i.Lb();i.Kb(0,"ion-item"),i.Kb(1,"ion-label",10),i.Kb(2,"h2"),i.pc(3),i.Jb(),i.Kb(4,"p"),i.pc(5),i.oc(6,p,2,0,"span",11),i.Jb(),i.Jb(),i.Kb(7,"ion-button",12),i.Sb("click",(function(){i.ic(e);var n=t.$implicit;return i.Wb().joinGroup(n)})),i.pc(8," Join "),i.Jb(),i.Jb()}if(2&n){var o=t.$implicit;i.xb(3),i.qc(o.name),i.xb(2),i.rc(" ",o.participants.length," participant"),i.xb(1),i.Zb("ngIf",1!==o.participants.length)}}var b=function(){function n(n,t,e,o,r,i,s,c){this.loadingController=n,this.alertController=t,this.modalController=e,this.navController=o,this.authenticationService=r,this.navParams=i,this.groupService=s,this.toastController=c,this.groups=[],this.loading=!0,this.getInvites()}return n.prototype.ngOnInit=function(){},n.prototype.getInvites=function(){var n=this;this.groupService.getInvitedGroups().then((function(t){n.groups=t,n.loading=!1})).catch((function(){n.loading=!1}))},n.prototype.joinGroup=function(n){var t=this;this.groupService.joinGroup(n.id).then((function(){t.join(n.id)}))},n.prototype.join=function(n){this.modalController.dismiss({group_id:n})},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.inviteUser=function(){return Object(o.a)(this,void 0,void 0,(function(){var n,t=this;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:r.a,componentProps:{}})];case 1:return(n=e.sent()).onDidDismiss().then((function(n){n&&n.data&&t.groupService.inviteUser(n.data.user).then((function(){t.showToast("Invitation sent!")}))})),[4,n.present()];case 2:return e.sent(),[2]}}))}))},n.prototype.showToast=function(n){return Object(o.a)(this,void 0,void 0,(function(){return Object(o.c)(this,(function(t){switch(t.label){case 0:return[4,this.toastController.create({message:n,duration:2e3})];case 1:return t.sent().present(),[2]}}))}))},n.\u0275fac=function(t){return new(t||n)(i.Hb(s.I),i.Hb(s.a),i.Hb(s.K),i.Hb(s.L),i.Hb(c.a),i.Hb(s.M),i.Hb(a.a),i.Hb(s.R))},n.\u0275cmp=i.Bb({type:n,selectors:[["app-group-invites"]],decls:14,vars:2,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["slot","end"],[1,"group-invites"],["class","group-invites__loading",4,"ngIf"],[1,"group-invites__list"],[4,"ngFor","ngForOf"],[1,"group-invites__loading"],[1,"ion-text-wrap"],[4,"ngIf"],["slot","end",3,"click"]],template:function(n,t){1&n&&(i.Kb(0,"ion-header"),i.Kb(1,"ion-toolbar",0),i.Kb(2,"ion-buttons",1),i.Kb(3,"ion-button",2),i.Sb("click",(function(){return t.dismiss()})),i.Ib(4,"ion-icon",3),i.Jb(),i.Jb(),i.Kb(5,"ion-title"),i.pc(6,"Pending Invitations"),i.Jb(),i.Kb(7,"ion-buttons",4),i.Kb(8,"ion-button",2),i.Sb("click",(function(){return t.inviteUser()})),i.pc(9," Invite User "),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(10,"ion-content",5),i.oc(11,u,2,0,"div",6),i.Kb(12,"ion-list",7),i.oc(13,l,9,3,"ion-item",8),i.Jb(),i.Jb()),2&n&&(i.xb(11),i.Zb("ngIf",t.loading),i.xb(2),i.Zb("ngForOf",t.groups))},directives:[s.o,s.F,s.h,s.g,s.p,s.E,s.k,g.j,s.u,g.i,s.C,s.r,s.t],styles:[".group-invites[_ngcontent-%COMP%]   .group-invites__loading[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:60px;text-align:center}.group-invites[_ngcontent-%COMP%]   .group-invites__loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0 auto;width:30px;height:30px}"]}),n}()},OSM0:function(n,t,e){"use strict";e.d(t,"a",(function(){return g}));var o=e("fXoL"),r=e("TEn/"),i=e("ohih"),s=e("3Pt+"),c=e("ofXK");function a(n,t){if(1&n&&(o.Kb(0,"ion-select-option",11),o.pc(1),o.Jb()),2&n){var e=t.$implicit;o.Zb("value",e.id),o.xb(1),o.qc(e.name)}}var g=function(){function n(n,t){var e=this;this.modalController=n,this.groupService=t,this.user={},this.groups=[],this.groupService.getJoinedGroups().then((function(n){e.groups=n}))}return n.prototype.ngOnInit=function(){},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.invite=function(){this.modalController.dismiss({user:this.user})},n.\u0275fac=function(t){return new(t||n)(o.Hb(r.K),o.Hb(i.a))},n.\u0275cmp=o.Bb({type:n,selectors:[["app-invite-user"]],decls:20,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],[1,"invite-user"],["position","floating"],["type","text","name","email",3,"ngModel","ngModelChange"],["name","group",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"invite-user-footer"],["color","primary","expand","full",1,"invite-user-footer__button",3,"click"],[3,"value"]],template:function(n,t){1&n&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return t.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.pc(6,"Invite User"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content",4),o.Kb(8,"ion-item"),o.Kb(9,"ion-label",5),o.pc(10,"Email"),o.Jb(),o.Kb(11,"ion-input",6),o.Sb("ngModelChange",(function(n){return t.user.email=n})),o.Jb(),o.Jb(),o.Kb(12,"ion-item"),o.Kb(13,"ion-label",5),o.pc(14,"Group"),o.Jb(),o.Kb(15,"ion-select",7),o.Sb("ngModelChange",(function(n){return t.user.group_id=n})),o.oc(16,a,2,2,"ion-select-option",8),o.Jb(),o.Jb(),o.Jb(),o.Kb(17,"ion-footer",9),o.Kb(18,"ion-button",10),o.Sb("click",(function(){return t.invite()})),o.pc(19," Invite "),o.Jb(),o.Jb()),2&n&&(o.xb(11),o.Zb("ngModel",t.user.email),o.xb(4),o.Zb("ngModel",t.user.group_id),o.xb(1),o.Zb("ngForOf",t.groups))},directives:[r.o,r.F,r.h,r.g,r.p,r.E,r.k,r.r,r.t,r.q,r.Q,s.e,s.h,r.A,r.P,c.i,r.n,r.B],styles:[""]}),n}()},OcId:function(n,t,e){"use strict";e.d(t,"a",(function(){return k}));var o=e("mrSG"),r=e("5F+P"),i=e("yPcR"),s=e("uxLX"),c=e("KXRs"),a=e("fXoL"),g=e("ohih"),u=e("ri4K"),p=e("TEn/"),l=e("ofXK"),b=e("3Pt+"),_=function(n){return{"group__groups-list__group--active":n}},d=function(n){return{"background-image":n}};function h(n,t){if(1&n){var e=a.Lb();a.Kb(0,"div",11),a.Sb("click",(function(){a.ic(e);var n=t.$implicit;return a.Wb().selectGroup(n)})),a.Ib(1,"div",16),a.Kb(2,"div",10),a.pc(3),a.Jb(),a.Jb()}if(2&n){var o=t.$implicit,r=a.Wb();a.Zb("ngClass",a.cc(3,_,r.selectedGroup.id===o.id)),a.xb(1),a.Zb("ngStyle",a.cc(5,d,"url("+o.image+")")),a.xb(2),a.qc(o.name)}}function m(n,t){1&n&&(a.Kb(0,"div",17),a.Ib(1,"ion-spinner",0),a.Jb())}function f(n,t){if(1&n){var e=a.Lb();a.Kb(0,"ion-item",30),a.Sb("click",(function(){a.ic(e);var n=t.$implicit;return a.Wb(4).selectLayer(n)})),a.pc(1),a.Jb()}if(2&n){var o=t.$implicit;a.xb(1),a.rc(" ",o.layer.name," ")}}function v(n,t){if(1&n&&(a.Kb(0,"ion-list"),a.oc(1,f,2,1,"ion-item",29),a.Jb()),2&n){var e=a.Wb(3);a.xb(1),a.Zb("ngForOf",e.selectedGroup.layers)}}function C(n,t){if(1&n&&(a.Kb(0,"div",27),a.Kb(1,"div",28),a.oc(2,v,2,1,"ion-list",15),a.Jb(),a.Jb()),2&n){var e=a.Wb(2);a.xb(2),a.Zb("ngIf",e.selectedGroup.layers&&e.selectedGroup.layers.length>0)}}function M(n,t){1&n&&(a.Kb(0,"span"),a.pc(1,", "),a.Jb())}function O(n,t){if(1&n){var e=a.Lb();a.Kb(0,"span"),a.Kb(1,"a",2),a.Sb("click",(function(){a.ic(e);var n=t.$implicit;return a.Wb(3).openProfile(n.user_id)})),a.pc(2),a.Jb(),a.oc(3,M,2,0,"span",15),a.Jb()}if(2&n){var o=t.$implicit,r=t.last;a.xb(2),a.qc(o.profile.name),a.xb(1),a.Zb("ngIf",!r)}}function P(n,t){if(1&n){var e=a.Lb();a.Kb(0,"div",27),a.Kb(1,"div",31),a.oc(2,O,4,2,"span",32),a.Kb(3,"ion-button",33),a.Sb("click",(function(){a.ic(e);var n=a.Wb(2);return n.leaveGroup(n.selectedGroup.id)})),a.pc(4,"Leave Group"),a.Jb(),a.Jb(),a.Jb()}if(2&n){var o=a.Wb(2);a.xb(2),a.Zb("ngForOf",o.selectedGroup.participants)}}var x=function(n,t){return{"message--to":n,"message--from":t}};function K(n,t){if(1&n){var e=a.Lb();a.Kb(0,"div",38),a.Kb(1,"div",39),a.pc(2),a.Jb(),a.Kb(3,"a",40),a.Sb("click",(function(){a.ic(e);var n=t.$implicit;return a.Wb(3).openProfile(n.user_id)})),a.pc(4),a.Jb(),a.Jb()}if(2&n){var o=t.$implicit,r=a.Wb(3);a.Zb("ngClass",a.dc(3,x,r.user.id===o.user_id,r.user.id!==o.user_id)),a.xb(2),a.rc(" ",o.message," "),a.xb(2),a.rc(" ",o.profile.name," ")}}function J(n,t){if(1&n){var e=a.Lb();a.Kb(0,"div",41),a.Kb(1,"ion-item"),a.Kb(2,"ion-label",42),a.pc(3,"Send a message"),a.Jb(),a.Kb(4,"ion-textarea",43),a.Sb("ngModelChange",(function(n){return a.ic(e),a.Wb(3).message.message=n})),a.Jb(),a.Jb(),a.Kb(5,"ion-button",33),a.Sb("click",(function(){return a.ic(e),a.Wb(3).createMessage()})),a.pc(6," Send "),a.Jb(),a.Jb()}if(2&n){var o=a.Wb(3);a.xb(4),a.Zb("ngModel",o.message.message)}}function y(n,t){if(1&n&&(a.Kb(0,"div",34),a.Kb(1,"div",35),a.oc(2,K,5,6,"div",36),a.Jb(),a.oc(3,J,7,1,"div",37),a.Jb()),2&n){var e=a.Wb(2);a.xb(2),a.Zb("ngForOf",e.messages),a.xb(1),a.Zb("ngIf",e.user&&e.user.id)}}function I(n,t){if(1&n){var e=a.Lb();a.Kb(0,"div"),a.Kb(1,"div",18),a.Kb(2,"div",19),a.Sb("click",(function(){a.ic(e);var n=a.Wb();return n.editGroup(n.selectedGroup)})),a.Jb(),a.Kb(3,"div",20),a.Sb("click",(function(){a.ic(e);var n=a.Wb();return n.editGroup(n.selectedGroup)})),a.Kb(4,"h3"),a.pc(5,"Current Group"),a.Jb(),a.Kb(6,"h2"),a.pc(7),a.Jb(),a.Kb(8,"p"),a.pc(9),a.Jb(),a.Jb(),a.Jb(),a.Kb(10,"ion-segment",21),a.Sb("ngModelChange",(function(n){return a.ic(e),a.Wb().activeTab=n})),a.Kb(11,"ion-segment-button",22),a.Kb(12,"ion-label"),a.pc(13,"Layers"),a.Jb(),a.Jb(),a.Kb(14,"ion-segment-button",23),a.Kb(15,"ion-label"),a.pc(16,"Members"),a.Jb(),a.Jb(),a.Kb(17,"ion-segment-button",24),a.Kb(18,"ion-label"),a.pc(19,"Chat"),a.Jb(),a.Jb(),a.Jb(),a.oc(20,C,3,1,"div",25),a.oc(21,P,5,1,"div",25),a.oc(22,y,4,2,"div",26),a.Jb()}if(2&n){var o=a.Wb();a.xb(2),a.Zb("ngStyle",a.cc(7,d,"url("+o.selectedGroup.image+")")),a.xb(5),a.qc(o.selectedGroup.name),a.xb(2),a.qc(o.selectedGroup.description),a.xb(1),a.Zb("ngModel",o.activeTab),a.xb(10),a.Zb("ngIf","layers"===o.activeTab),a.xb(1),a.Zb("ngIf","members"===o.activeTab),a.xb(1),a.Zb("ngIf","chat"===o.activeTab)}}var k=function(){function n(n,t,e,o,r){var i=this;this.groupService=n,this.auth=t,this.modalController=e,this.navParams=o,this.alertController=r,this.user={},this.auth.retreiveUserData().then((function(n){i.user=n})),this.loading=!0,this.groups=[],this.selectedGroup={},this.groupService.getCurrentGroup().then((function(n){n&&(i.selectedGroup=n)})),this.getGroups(),this.messages=[],this.message={},this.activeTab="layers"}return n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){this.messageInterval&&clearInterval(this.messageInterval)},n.prototype.groupNavigationChanged=function(n){this.activeTab=n},n.prototype.createMessage=function(){var n=this;if(this.message.message){var t={};Object.assign(t,this.message),t.group_id=this.selectedGroup.id,t.user_id=this.user.id,this.messages.push(t),this.message.message="",this.groupService.createMessage(t).then((function(t){n.message={}}))}},n.prototype.setMessageInterval=function(){var n=this;this.messageInterval&&clearInterval(this.messageInterval),this.messages=[],this.getMessages(),this.messageInterval=setInterval((function(){n.getMessages()}),1e4)},n.prototype.getMessages=function(){var n=this;this.selectedGroup&&this.selectedGroup.id&&this.groupService.getMessages(this.selectedGroup.id).then((function(t){n.messages=t}))},n.prototype.getGroups=function(){var n=this;this.groupService.getJoinedGroups().then((function(t){n.groups=t,!n.selectedGroup.id&&n.groups.length>0||n.selectedGroup.id&&n.setMessageInterval(),n.loading=!1})).catch((function(){n.loading=!1}))},n.prototype.selectPrivate=function(){this.selectedGroup={},this.groupService.setCurrentGroup({}),this.messageInterval&&clearInterval(this.messageInterval)},n.prototype.selectGroup=function(n){this.activeTab="layers",this.selectedGroup=n,this.groupService.setCurrentGroup(n),this.setMessageInterval()},n.prototype.joinGroup=function(){return Object(o.a)(this,void 0,void 0,(function(){var n,t=this;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:r.a,componentProps:{}})];case 1:return(n=e.sent()).onDidDismiss().then((function(n){n&&n.data&&n.data.updated?t.getGroups():n&&n.data&&t.groupService.getJoinedGroups().then((function(e){var r,i;t.groups=e;try{for(var s=Object(o.d)(t.groups),c=s.next();!c.done;c=s.next()){var a=c.value;if(a.id===n.data.group_id){t.selectGroup(a);break}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}))})),[4,n.present()];case 2:return e.sent(),[2]}}))}))},n.prototype.viewInvites=function(){return Object(o.a)(this,void 0,void 0,(function(){var n,t=this;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:c.a,componentProps:{}})];case 1:return(n=e.sent()).onDidDismiss().then((function(n){n&&n.data&&t.groupService.getJoinedGroups().then((function(e){var r,i;t.groups=e;try{for(var s=Object(o.d)(t.groups),c=s.next();!c.done;c=s.next()){var a=c.value;if(a.id===n.group_id){t.selectedGroup=a;break}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}))})),[4,n.present()];case 2:return e.sent(),[2]}}))}))},n.prototype.leaveGroup=function(n){return Object(o.a)(this,void 0,void 0,(function(){var t=this;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Leave Group",message:"Are you sure?",buttons:[{text:"Cancel",role:"cancel",handler:function(){}},{text:"Yes",handler:function(){t.loading=!0,t.selectedGroup={},t.groupService.leaveGroup(n).then((function(){t.getGroups()}))}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}}))}))},n.prototype.editGroup=function(n){return Object(o.a)(this,void 0,void 0,(function(){var t,e,r=this;return Object(o.c)(this,(function(o){switch(o.label){case 0:return n.user_id!==this.user.id?[2]:(t={},Object.assign(t,n),[4,this.modalController.create({component:i.a,componentProps:{group:t}})]);case 1:return(e=o.sent()).onDidDismiss().then((function(t){t&&t.data&&r.groupService.editGroup(t.data.group).then((function(){Object.assign(n,t.data.group)}))})),[4,e.present()];case 2:return o.sent(),[2]}}))}))},n.prototype.openProfile=function(n){return Object(o.a)(this,void 0,void 0,(function(){var t;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:s.a,componentProps:{profile:n}})];case 1:return(t=e.sent()).onDidDismiss().then((function(n){})),[4,t.present()];case 2:return e.sent(),[2]}}))}))},n.prototype.selectLayer=function(n){this.modalController.dismiss({selectedLayer:n})},n.prototype.dismiss=function(){this.modalController.dismiss()},n.\u0275fac=function(t){return new(t||n)(a.Hb(g.a),a.Hb(u.a),a.Hb(p.K),a.Hb(p.M),a.Hb(p.a))},n.\u0275cmp=a.Bb({type:n,selectors:[["app-groups"]],decls:24,vars:6,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["slot","end"],[1,"groups"],[1,"group__groups-list"],[1,"group__groups-list__group","group__groups-list__group--join",3,"click"],[1,"group__groups-list__group__image"],["name","person-add"],[1,"group__groups-list__group__name"],[1,"group__groups-list__group",3,"ngClass","click"],[1,"group__groups-list__group__image","group__groups-list__group__image--private"],["class","group__groups-list__group",3,"ngClass","click",4,"ngFor","ngForOf"],["class","group__loading",4,"ngIf"],[4,"ngIf"],[1,"group__groups-list__group__image",3,"ngStyle"],[1,"group__loading"],[1,"group__header"],[1,"group__image",3,"ngStyle","click"],[1,"group__name",3,"click"],["color","primary",1,"group__navigation",3,"ngModel","ngModelChange"],["value","layers"],["value","members"],["value","chat"],["class","group__details",4,"ngIf"],["class","group__chat",4,"ngIf"],[1,"group__details"],[1,"group__layers"],["lines","none",3,"click",4,"ngFor","ngForOf"],["lines","none",3,"click"],[1,"group__members"],[4,"ngFor","ngForOf"],["color","primary",3,"click"],[1,"group__chat"],[1,"group__chat__messages"],["class","group__chat__messages__message message",3,"ngClass",4,"ngFor","ngForOf"],["class","group__chat__send-message",4,"ngIf"],[1,"group__chat__messages__message","message",3,"ngClass"],[1,"message__text"],[1,"message__author",3,"click"],[1,"group__chat__send-message"],["position","floating"],[3,"ngModel","ngModelChange"]],template:function(n,t){1&n&&(a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar",0),a.Kb(2,"ion-buttons",1),a.Kb(3,"ion-button",2),a.Sb("click",(function(){return t.dismiss()})),a.Ib(4,"ion-icon",3),a.Jb(),a.Jb(),a.Kb(5,"ion-title"),a.pc(6,"My Groups"),a.Jb(),a.Kb(7,"ion-buttons",4),a.Kb(8,"ion-button",2),a.Sb("click",(function(){return t.viewInvites()})),a.pc(9," Invites "),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Kb(10,"ion-content",5),a.Kb(11,"div",6),a.Kb(12,"div",7),a.Sb("click",(function(){return t.joinGroup()})),a.Kb(13,"div",8),a.Ib(14,"ion-icon",9),a.Jb(),a.Kb(15,"div",10),a.pc(16,"Join Group"),a.Jb(),a.Jb(),a.Kb(17,"div",11),a.Sb("click",(function(){return t.selectPrivate()})),a.Ib(18,"div",12),a.Kb(19,"div",10),a.pc(20,"My Map"),a.Jb(),a.Jb(),a.oc(21,h,4,7,"div",13),a.Jb(),a.oc(22,m,2,0,"div",14),a.oc(23,I,23,9,"div",15),a.Jb()),2&n&&(a.xb(17),a.Zb("ngClass",a.cc(4,_,!t.selectedGroup.id)),a.xb(4),a.Zb("ngForOf",t.groups),a.xb(1),a.Zb("ngIf",t.loading),a.xb(1),a.Zb("ngIf",!t.loading&&t.selectedGroup.id))},directives:[p.o,p.F,p.h,p.g,p.p,p.E,p.k,l.h,l.i,l.j,l.k,p.C,p.y,p.P,b.e,b.h,p.z,p.t,p.u,p.r,p.D,p.Q],styles:[".groups[_ngcontent-%COMP%]   .group__loading[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:60px;text-align:center}.groups[_ngcontent-%COMP%]   .group__loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0 auto;width:50px;height:50px}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:30px;white-space:nowrap;overflow-x:scroll}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]   .group__groups-list__group[_ngcontent-%COMP%]{text-align:center;display:inline-block;margin:0 15px;cursor:pointer}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]   .group__groups-list__group.group__groups-list__group--active[_ngcontent-%COMP%]   .group__groups-list__group__name[_ngcontent-%COMP%]{font-weight:700}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]   .group__groups-list__group.group__groups-list__group--join[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:34px;height:34px;font-size:34px;line-height:34px;margin-top:11px;opacity:.2}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]   .group__groups-list__group[_ngcontent-%COMP%]   .group__groups-list__group__image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:30px;margin:0 auto;background-color:#dcdcdc;background-size:cover;background-position:50%;transition:transform .2s linear}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]   .group__groups-list__group[_ngcontent-%COMP%]   .group__groups-list__group__image--private[_ngcontent-%COMP%]{background-image:url(/assets/mymap.jpg)}.groups[_ngcontent-%COMP%]   .group__groups-list[_ngcontent-%COMP%]   .group__groups-list__group[_ngcontent-%COMP%]   .group__groups-list__group__name[_ngcontent-%COMP%]{margin-top:5px;max-width:100px;overflow:hidden;text-overflow:ellipsis}.groups[_ngcontent-%COMP%]   .group__header[_ngcontent-%COMP%]{text-align:center;border-top:1px solid rgba(0,0,0,.05);padding-top:30px;margin-bottom:30px}.groups[_ngcontent-%COMP%]   .group__header[_ngcontent-%COMP%]   .group__image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px;margin:0 auto;background-color:#dcdcdc;background-size:cover;background-position:50%;cursor:pointer}.groups[_ngcontent-%COMP%]   .group__header[_ngcontent-%COMP%]   .group__name[_ngcontent-%COMP%]{cursor:pointer}.groups[_ngcontent-%COMP%]   .group__header[_ngcontent-%COMP%]   .group__name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:400;opacity:.4;margin:15px 0 0}.groups[_ngcontent-%COMP%]   .group__header[_ngcontent-%COMP%]   .group__name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0}.groups[_ngcontent-%COMP%]   .group__header[_ngcontent-%COMP%]   .group__name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:500px;margin:10px auto 0}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]{display:block;width:100%;padding-top:30px;padding-bottom:30px}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__members[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__members[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff7f00;text-decoration:underline;cursor:pointer}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__members[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:block;margin-top:15px}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__layers[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__layers[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__layers[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{order:10;flex:1;text-align:right}.groups[_ngcontent-%COMP%]   .group__details[_ngcontent-%COMP%]   .group__layers[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:5px;padding:15px 10px;margin-top:15px}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]{display:block;width:100%;padding:30px 15px}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message__author[_ngcontent-%COMP%]{display:block;font-size:12px;color:#000;text-decoration:none;margin-top:5px;cursor:pointer}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message__text[_ngcontent-%COMP%]{background-color:#ff7f00;padding:10px 20px;display:inline-block;border-radius:10px;color:#fff}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__messages[_ngcontent-%COMP%]   .message.message--from[_ngcontent-%COMP%]{text-align:right}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__messages[_ngcontent-%COMP%]   .message.message--from[_ngcontent-%COMP%]   .message__text[_ngcontent-%COMP%]{background-color:#f1f0f0;color:#000}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__send-message[_ngcontent-%COMP%]{margin-top:30px;border-top:1px solid #e0e0e0;padding-top:15px}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__send-message[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{width:100%;padding-bottom:0}.groups[_ngcontent-%COMP%]   .group__chat[_ngcontent-%COMP%]   .group__chat__send-message[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px;width:100%}"]}),n}()},yPcR:function(n,t,e){"use strict";e.d(t,"a",(function(){return _}));var o=e("AytR"),r=e("fXoL"),i=e("tyNb"),s=e("B7Rs"),c=e("a/9d"),a=e("TEn/"),g=e("ri4K"),u=e("ofXK"),p=e("3Pt+");function l(n,t){1&n&&r.Ib(0,"ion-icon",18)}function b(n,t){if(1&n&&(r.Kb(0,"ion-avatar",19),r.Ib(1,"img",20),r.Jb()),2&n){var e=r.Wb();r.xb(1),r.Zb("src",e.group.image,r.kc)}}var _=function(){function n(n,t,e,o,r,i,s,c,a){this.router=n,this.transfer=t,this.camera=e,this.loadingController=o,this.alertController=r,this.modalController=i,this.navController=s,this.authenticationService=c,this.navParams=a,this.group={};var g=this.navParams.get("group");this.group=Object.assign({},g)}return n.prototype.ngOnInit=function(){},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.changeImage=function(){var n=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(t){var e;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(n){e=n,n.present()}));var r=n.transfer.create(),i={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};r.upload(t,encodeURI(o.a.apiUrl+"/upload"),i).then((function(t){if(t.response){var o=JSON.parse(t.response);n.group.image=o.file}e.dismiss()}),(function(t){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(t),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(n){n.present()})),e.dismiss()}))}),(function(n){}))},n.prototype.deleteGroup=function(){var n=this;this.alertController.create({header:"Are you sure?",message:"By deleting this group, all layers and discussions will be deleted.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(n){}},{text:"Yes",handler:function(){n.modalController.dismiss({deleted:n.group.id})}}]}).then((function(n){n.present()}))},n.prototype.update=function(){this.modalController.dismiss({group:this.group})},n.\u0275fac=function(t){return new(t||n)(r.Hb(i.g),r.Hb(s.a),r.Hb(c.a),r.Hb(a.I),r.Hb(a.a),r.Hb(a.K),r.Hb(a.L),r.Hb(g.a),r.Hb(a.M))},n.\u0275cmp=r.Bb({type:n,selectors:[["app-edit-group"]],decls:33,vars:5,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["slot","end"],["name","trash"],[1,"create-group"],[1,"create-group__form"],[1,"create-group__form__avatar"],["name","people",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["slot","end",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"create-group-footer"],["color","primary","expand","full",1,"create-group-footer__button",3,"click"],["name","people"],["item-start",""],[3,"src"]],template:function(n,t){1&n&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar",0),r.Kb(2,"ion-buttons",1),r.Kb(3,"ion-button",2),r.Sb("click",(function(){return t.dismiss()})),r.Ib(4,"ion-icon",3),r.Jb(),r.Jb(),r.Kb(5,"ion-title"),r.pc(6,"Update Group"),r.Jb(),r.Kb(7,"ion-buttons",4),r.Kb(8,"ion-button",2),r.Sb("click",(function(){return t.deleteGroup()})),r.Ib(9,"ion-icon",5),r.pc(10," Delete "),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(11,"ion-content",6),r.Kb(12,"ion-list",7),r.Kb(13,"ion-item",8),r.oc(14,l,1,0,"ion-icon",9),r.oc(15,b,2,1,"ion-avatar",10),r.Kb(16,"ion-button",11),r.Sb("click",(function(){return t.changeImage()})),r.pc(17,"Select Photo"),r.Jb(),r.Jb(),r.Kb(18,"ion-item"),r.Kb(19,"ion-label",12),r.pc(20,"Name"),r.Jb(),r.Kb(21,"ion-input",13),r.Sb("ngModelChange",(function(n){return t.group.name=n})),r.Jb(),r.Jb(),r.Kb(22,"ion-item"),r.Kb(23,"ion-label"),r.pc(24,"Public"),r.Jb(),r.Kb(25,"ion-checkbox",14),r.Sb("ngModelChange",(function(n){return t.group.public=n})),r.Jb(),r.Jb(),r.Kb(26,"ion-item"),r.Kb(27,"ion-label",12),r.pc(28,"Description"),r.Jb(),r.Kb(29,"ion-textarea",15),r.Sb("ngModelChange",(function(n){return t.group.description=n})),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(30,"ion-footer",16),r.Kb(31,"ion-button",17),r.Sb("click",(function(){return t.update()})),r.pc(32," Update "),r.Jb(),r.Jb()),2&n&&(r.xb(14),r.Zb("ngIf",!t.group.image),r.xb(1),r.Zb("ngIf",t.group.image),r.xb(6),r.Zb("ngModel",t.group.name),r.xb(4),r.Zb("ngModel",t.group.public),r.xb(4),r.Zb("ngModel",t.group.description))},directives:[a.o,a.F,a.h,a.g,a.p,a.E,a.k,a.u,a.r,u.j,a.t,a.q,a.Q,p.e,p.h,a.i,a.b,a.D,a.n,a.d],styles:[""]}),n}()}}]);