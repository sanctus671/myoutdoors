(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{UUSl:function(n,e,o){"use strict";o.r(e),o.d(e,"SignupPageModule",(function(){return f}));var t=o("ofXK"),r=o("3Pt+"),i=o("tyNb"),s=o("TEn/"),a=o("mrSG"),u=o("fXoL"),c=o("ri4K"),l=o("m/P+");function g(n,e){if(1&n&&(u.Kb(0,"p",18),u.lc(1),u.Jb()),2&n){var o=u.Ub();u.xb(1),u.mc(o.user.error)}}function b(n,e){1&n&&u.Ib(0,"ion-icon",19)}function p(n,e){1&n&&u.Ib(0,"ion-spinner")}var d=function(n){return{invalidItem:n}},h=[{path:"",component:function(){function n(n,e){this.authService=n,this.iab=e,this.user={email:"",password:"",error:"",city:"",country:"New Zealand",latitude:-36.866667,longitude:174.766667,loading:!1,tos:!0},this.cities=[],this.countries=["New Zealand","Australia"]}return n.prototype.ngOnInit=function(){},n.prototype.signup=function(){var n=this;this.user.loading=!0,this.user.error="",this.user.email&&this.user.first_name&&this.user.last_name||(this.user.loading=!1,this.user.error="Required fields not filled in. "),this.user.tos||(this.user.loading=!1,this.user.error="Please accept the Terms and Conditions"),this.authService.register(this.user).then((function(){n.user.loading=!1,n.authService.retreiveUserData().then((function(){})).catch((function(){}))})).catch((function(e){if(n.user.loading=!1,e&&e.error)for(var o in e.error.error.errors)n.user.error=n.user.error+e.error.error.errors[o]+" ";else n.user.error=e.message}))},n.prototype.cityChanged=function(){var n,e;try{for(var o=Object(a.d)(this.cities),t=o.next();!t.done;t=o.next()){var r=t.value;r.city===this.user.city&&(this.user.latitude=r.lat,this.user.longitidue=r.lng)}}catch(i){n={error:i}}finally{try{t&&!t.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}},n.prototype.openTos=function(n){n.preventDefault(),n.stopPropagation(),this.iab.create("https://my-outdoors.co.nz/terms-and-conditions","_system")},n.\u0275fac=function(e){return new(e||n)(u.Hb(c.a),u.Hb(l.a))},n.\u0275cmp=u.Bb({type:n,selectors:[["app-signup"]],decls:36,vars:15,consts:[["color","primary"],["slot","start"],["defaultHref","/login"],[1,"signup"],[1,"signup__form"],[3,"ngClass"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["clearInput","","type","password",3,"ngModel","ngModelChange"],["no-lines","","no-padding","",1,"custom-checkbox"],[3,"click"],["name","agree","checked","true","required","",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full",1,"signup-footer__button",3,"disabled","click"],["name","arrow-forward",4,"ngIf"],[4,"ngIf"],[1,"signup__form__error"],["name","arrow-forward"]],template:function(n,e){1&n&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar",0),u.Kb(2,"ion-buttons",1),u.Ib(3,"ion-back-button",2),u.Jb(),u.Kb(4,"ion-title"),u.lc(5,"Sign Up"),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content",3),u.Kb(7,"ion-list",4),u.Kb(8,"ion-item",5),u.Kb(9,"ion-label",6),u.lc(10,"Email *"),u.Jb(),u.Kb(11,"ion-input",7),u.Sb("ngModelChange",(function(n){return e.user.email=n})),u.Jb(),u.Jb(),u.Kb(12,"ion-item",5),u.Kb(13,"ion-label",6),u.lc(14,"Name *"),u.Jb(),u.Kb(15,"ion-input",8),u.Sb("ngModelChange",(function(n){return e.user.name=n})),u.Jb(),u.Jb(),u.Kb(16,"ion-item"),u.Kb(17,"ion-label",6),u.lc(18,"Password"),u.Jb(),u.Kb(19,"ion-input",9),u.Sb("ngModelChange",(function(n){return e.user.password=n})),u.Jb(),u.Jb(),u.Kb(20,"ion-item"),u.Kb(21,"ion-label",6),u.lc(22,"Confirm Password"),u.Jb(),u.Kb(23,"ion-input",9),u.Sb("ngModelChange",(function(n){return e.user.confirm_password=n})),u.Jb(),u.Jb(),u.Kb(24,"ion-item",10),u.Kb(25,"ion-label"),u.lc(26,"I agree to the Get Outdoors "),u.Kb(27,"a",11),u.Sb("click",(function(n){return e.openTos(n)})),u.lc(28,"Terms and Conditions"),u.Jb(),u.Jb(),u.Kb(29,"ion-checkbox",12),u.Sb("ngModelChange",(function(n){return e.user.tos=n})),u.Jb(),u.Jb(),u.kc(30,g,2,1,"p",13),u.Jb(),u.Jb(),u.Kb(31,"ion-footer",14),u.Kb(32,"ion-button",15),u.Sb("click",(function(){return e.signup()})),u.lc(33," Get Started\xa0\xa0 "),u.kc(34,b,1,0,"ion-icon",16),u.kc(35,p,1,0,"ion-spinner",17),u.Jb(),u.Jb()),2&n&&(u.xb(8),u.Xb("ngClass",u.ac(11,d,!e.user.email&&e.user.error)),u.xb(3),u.Xb("ngModel",e.user.email),u.xb(1),u.Xb("ngClass",u.ac(13,d,!e.user.name&&e.user.error)),u.xb(3),u.Xb("ngModel",e.user.name),u.xb(4),u.Xb("ngModel",e.user.password),u.xb(4),u.Xb("ngModel",e.user.confirm_password),u.xb(6),u.Xb("ngModel",e.user.tos),u.xb(1),u.Xb("ngIf",e.user.error),u.xb(2),u.Xb("disabled",e.user.loading),u.xb(2),u.Xb("ngIf",!e.user.loading),u.xb(1),u.Xb("ngIf",e.user.loading))},directives:[s.o,s.G,s.h,s.e,s.f,s.F,s.k,s.u,s.r,t.h,s.t,s.q,s.R,r.d,r.g,s.i,s.b,r.h,t.j,s.n,s.g,s.p,s.D],styles:[".invalidItem[_ngcontent-%COMP%]{--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight));--border-color:var(--ion-item-border-color,var(--ion-border-color,red))}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{position:relative}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal;padding-left:15px;padding-right:15px}.signup-footer[_ngcontent-%COMP%]{background-color:#fff}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()}],f=function(){function n(){}return n.\u0275mod=u.Fb({type:n}),n.\u0275inj=u.Eb({factory:function(e){return new(e||n)},imports:[[t.b,r.a,s.H,i.j.forChild(h)]]}),n}()}}]);