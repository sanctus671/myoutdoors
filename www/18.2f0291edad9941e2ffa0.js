(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"13Wi":function(t,n,o){"use strict";o.r(n),o.d(n,"InviteUserPageModule",(function(){return a}));var e=o("ofXK"),r=o("3Pt+"),i=o("TEn/"),u=o("tyNb"),s=o("OSM0"),c=o("fXoL"),p=[{path:"",component:s.a}],g=function(){function t(){}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(n){return new(n||t)},imports:[[u.j.forChild(p)],u.j]}),t}(),a=function(){function t(){}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(n){return new(n||t)},imports:[[e.b,r.a,i.H,g]]}),t}()},OSM0:function(t,n,o){"use strict";o.d(n,"a",(function(){return p}));var e=o("fXoL"),r=o("TEn/"),i=o("ohih"),u=o("3Pt+"),s=o("ofXK");function c(t,n){if(1&t&&(e.Kb(0,"ion-select-option",11),e.lc(1),e.Jb()),2&t){var o=n.$implicit;e.Xb("value",o.id),e.xb(1),e.mc(o.name)}}var p=function(){function t(t,n){var o=this;this.modalController=t,this.groupService=n,this.user={},this.groups=[],this.groupService.getJoinedGroups().then((function(t){o.groups=t}))}return t.prototype.ngOnInit=function(){},t.prototype.dismiss=function(){this.modalController.dismiss()},t.prototype.invite=function(){this.modalController.dismiss({user:this.user})},t.\u0275fac=function(n){return new(n||t)(e.Hb(r.L),e.Hb(i.a))},t.\u0275cmp=e.Bb({type:t,selectors:[["app-invite-user"]],decls:20,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],[1,"invite-user"],["position","floating"],["type","text","name","email",3,"ngModel","ngModelChange"],["name","group",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"invite-user-footer"],["color","primary","expand","full",1,"invite-user-footer__button",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.Kb(0,"ion-header"),e.Kb(1,"ion-toolbar",0),e.Kb(2,"ion-buttons",1),e.Kb(3,"ion-button",2),e.Sb("click",(function(){return n.dismiss()})),e.Ib(4,"ion-icon",3),e.Jb(),e.Jb(),e.Kb(5,"ion-title"),e.lc(6,"Invite User"),e.Jb(),e.Jb(),e.Jb(),e.Kb(7,"ion-content",4),e.Kb(8,"ion-item"),e.Kb(9,"ion-label",5),e.lc(10,"Email"),e.Jb(),e.Kb(11,"ion-input",6),e.Sb("ngModelChange",(function(t){return n.user.email=t})),e.Jb(),e.Jb(),e.Kb(12,"ion-item"),e.Kb(13,"ion-label",5),e.lc(14,"Group"),e.Jb(),e.Kb(15,"ion-select",7),e.Sb("ngModelChange",(function(t){return n.user.group_id=t})),e.kc(16,c,2,2,"ion-select-option",8),e.Jb(),e.Jb(),e.Jb(),e.Kb(17,"ion-footer",9),e.Kb(18,"ion-button",10),e.Sb("click",(function(){return n.invite()})),e.lc(19," Invite "),e.Jb(),e.Jb()),2&t&&(e.xb(11),e.Xb("ngModel",n.user.email),e.xb(4),e.Xb("ngModel",n.user.group_id),e.xb(1),e.Xb("ngForOf",n.groups))},directives:[r.o,r.G,r.h,r.g,r.p,r.F,r.k,r.r,r.t,r.q,r.R,u.d,u.g,r.B,r.Q,s.i,r.n,r.C],styles:[""]}),t}()},ohih:function(t,n,o){"use strict";o.d(n,"a",(function(){return c}));var e=o("AytR"),r=o("2Vo4"),i=o("fXoL"),u=o("tk/3"),s=o("e8h1"),c=function(){function t(t,n){this.http=t,this.storage=n,this.currentGroup=new r.a({})}return t.prototype.getGroups=function(t,n){var o=this;return new Promise((function(r,i){o.storage.get("go_token").then((function(u){u?o.http.get(e.a.apiUrl+"/groups?token="+u+"&page="+n+"&search="+t).subscribe((function(t){o.storage.set("go_groups",t),r(t)}),(function(t){o.storage.get("go_groups").then((function(n){n?r(n):i(t)}))})):i()}))}))},t.prototype.getJoinedGroups=function(){var t=this;return new Promise((function(n,o){t.storage.get("go_token").then((function(r){r?t.http.get(e.a.apiUrl+"/groups?token="+r+"&joined=1").subscribe((function(o){t.storage.set("go_joinedgroups",o),n(o)}),(function(e){t.storage.get("go_joinedgroups").then((function(t){t?n(t):o(e)}))})):o()}))}))},t.prototype.getInvitedGroups=function(){var t=this;return new Promise((function(n,o){t.storage.get("go_token").then((function(r){r?t.http.get(e.a.apiUrl+"/groups?token="+r+"&invited=1").subscribe((function(o){t.storage.set("go_invitedgroups",o),n(o)}),(function(e){t.storage.get("go_invitedgroups").then((function(t){t?n(t):o(e)}))})):o()}))}))},t.prototype.getGroup=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.get(e.a.apiUrl+"/groups/"+t+"?token="+i).subscribe((function(e){n.storage.set("go_group"+t,e),o(e)}),(function(e){n.storage.get("go_group"+t).then((function(t){t?o(t):r(e)}))})):r()}))}))},t.prototype.createGroup=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.post(e.a.apiUrl+"/groups?token="+i,t).subscribe((function(t){o(t)}),(function(t){r(t)})):r()}))}))},t.prototype.editGroup=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.put(e.a.apiUrl+"/groups/"+t.id+"?token="+i,t).subscribe((function(t){o(t)}),(function(t){r(t)})):r()}))}))},t.prototype.joinGroup=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.post(e.a.apiUrl+"/joingroup?token="+i,{group_id:t}).subscribe((function(t){o(t)}),(function(t){r(t)})):r()}))}))},t.prototype.inviteUser=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.post(e.a.apiUrl+"/invitegroup?token="+i,t).subscribe((function(t){o(t)}),(function(t){r(t)})):r()}))}))},t.prototype.leaveGroup=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.post(e.a.apiUrl+"/leavegroup?token="+i,{group_id:t}).subscribe((function(t){o(t)}),(function(t){r(t)})):r()}))}))},t.prototype.getMessages=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.get(e.a.apiUrl+"/groupmessages/"+t+"?token="+i).subscribe((function(e){n.storage.set("go_messages"+t,e),o(e)}),(function(e){n.storage.get("go_messages"+t).then((function(t){t?o(t):r(e)}))})):r()}))}))},t.prototype.createMessage=function(t){var n=this;return new Promise((function(o,r){n.storage.get("go_token").then((function(i){i?n.http.post(e.a.apiUrl+"/groupmessages?token="+i,t).subscribe((function(t){o(t)}),(function(t){r(t)})):r()}))}))},t.prototype.subscribeCurrentGroup=function(){return this.currentGroup.asObservable()},t.prototype.getCurrentGroup=function(){var t=this;return new Promise((function(n,o){t.storage.get("go_currentgroup").then((function(t){t?n(t):o()}))}))},t.prototype.setCurrentGroup=function(t){this.storage.set("go_currentgroup",t),this.currentGroup.next(t)},t.\u0275fac=function(n){return new(n||t)(i.Ob(u.a),i.Ob(s.b))},t.\u0275prov=i.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);