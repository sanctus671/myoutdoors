(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{IEcJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var i=t("AytR"),a=t("fXoL"),o=t("tyNb"),r=t("B7Rs"),c=t("a/9d"),l=t("TEn/"),m=t("ri4K"),p=t("3Pt+"),s=t("ofXK"),b=t("mUB+");function u(e,n){1&e&&a.Ib(0,"ion-icon",14)}function g(e,n){if(1&e&&(a.Kb(0,"ion-avatar",15),a.Ib(1,"img",16),a.Jb()),2&e){var t=a.Wb();a.xb(1),a.Zb("src",t.placemark.image,a.kc)}}function d(e,n){if(1&e){var t=a.Lb();a.Kb(0,"ion-button",17),a.Sb("click",(function(){return a.ic(t),a.Wb().placemark.image=""})),a.pc(1,"Delete"),a.Jb()}}var f=function(){function e(e,n,t,i,a,o,r,c,l){this.router=e,this.transfer=n,this.camera=t,this.loadingController=i,this.alertController=a,this.modalController=o,this.navController=r,this.authenticationService=c,this.navParams=l,this.placemark={};var m=this.navParams.get("placemark");this.placemark=Object.assign({},m)}return e.prototype.ngOnInit=function(){},e.prototype.changeImage=function(e){var n=this;this.camera.getPicture({sourceType:"camera"===e?this.camera.PictureSourceType.CAMERA:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(e){var t;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(e){t=e,e.present()}));var a=n.transfer.create(),o={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};a.upload(e,encodeURI(i.a.apiUrl+"/upload"),o).then((function(e){if(e.response){var i=JSON.parse(e.response);n.placemark.image=i.file}t.dismiss()}),(function(e){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(e),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(e){e.present()})),t.dismiss()}))}),(function(e){}))},e.prototype.dismiss=function(){this.modalController.dismiss()},e.prototype.update=function(){this.modalController.dismiss({placemark:this.placemark})},e.\u0275fac=function(n){return new(n||e)(a.Hb(o.g),a.Hb(r.a),a.Hb(c.a),a.Hb(l.I),a.Hb(l.a),a.Hb(l.K),a.Hb(l.L),a.Hb(m.a),a.Hb(l.M))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-edit-placemark"]],decls:24,vars:5,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[1,"edit-placemark-image"],["name","home",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],["color","primary","fill","clear",3,"click",4,"ngIf"],["name","description","placeholder","Description",3,"ngModel","ngModelChange"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"],["name","home"],["item-start",""],[3,"src"],["color","primary","fill","clear",3,"click"]],template:function(e,n){1&e&&(a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar",0),a.Kb(2,"ion-buttons",1),a.Kb(3,"ion-button",2),a.Sb("click",(function(){return n.dismiss()})),a.Ib(4,"ion-icon",3),a.Jb(),a.Jb(),a.Kb(5,"ion-title"),a.pc(6,"Edit Placemark"),a.Jb(),a.Jb(),a.Jb(),a.Kb(7,"ion-content"),a.Kb(8,"ion-item"),a.Kb(9,"ion-label",4),a.pc(10,"Name"),a.Jb(),a.Kb(11,"ion-input",5),a.Sb("ngModelChange",(function(e){return n.placemark.name=e})),a.Jb(),a.Jb(),a.Kb(12,"ion-item",6),a.oc(13,u,1,0,"ion-icon",7),a.oc(14,g,2,1,"ion-avatar",8),a.Kb(15,"ion-button",9),a.Sb("click",(function(){return n.changeImage("library")})),a.pc(16,"Select Image"),a.Jb(),a.Kb(17,"ion-button",9),a.Sb("click",(function(){return n.changeImage("camera")})),a.pc(18,"Take Picture"),a.Jb(),a.oc(19,d,2,0,"ion-button",10),a.Jb(),a.Kb(20,"angular-editor",11),a.Sb("ngModelChange",(function(e){return n.placemark.description=e})),a.Jb(),a.Jb(),a.Kb(21,"ion-footer",12),a.Kb(22,"ion-button",13),a.Sb("click",(function(){return n.update()})),a.pc(23," Update "),a.Jb(),a.Jb()),2&e&&(a.xb(11),a.Zb("ngModel",n.placemark.name),a.xb(2),a.Zb("ngIf",!n.placemark.image),a.xb(1),a.Zb("ngIf",n.placemark.image),a.xb(5),a.Zb("ngIf",n.placemark.image),a.xb(1),a.Zb("ngModel",n.placemark.description))},directives:[l.o,l.F,l.h,l.g,l.p,l.E,l.k,l.r,l.t,l.q,l.Q,p.e,p.h,s.j,b.a,l.n,l.d],styles:[".edit-placemark-image[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px}angular-editor[_ngcontent-%COMP%]{margin-top:20px;display:block}"]}),e}()},z5KQ:function(e,n,t){"use strict";t.r(n),t.d(n,"EditPlacemarkPageModule",(function(){return s}));var i=t("ofXK"),a=t("3Pt+"),o=t("TEn/"),r=t("tyNb"),c=t("IEcJ"),l=t("fXoL"),m=[{path:"",component:c.a}],p=function(){function e(){}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[r.j.forChild(m)],r.j]}),e}(),s=function(){function e(){}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[i.b,a.b,o.G,p]]}),e}()}}]);