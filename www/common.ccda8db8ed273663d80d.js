(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+6XZ":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("fXoL"),i=e("TEn/"),r=e("3Pt+"),a=function(){function n(n,t){this.modalController=n,this.navParams=t,this.log={}}return n.prototype.ngOnInit=function(){},n.prototype.add=function(){this.modalController.dismiss({log:this.log})},n.prototype.dismiss=function(){this.modalController.dismiss()},n.\u0275fac=function(t){return new(t||n)(o.Hb(i.L),o.Hb(i.N))},n.\u0275cmp=o.Bb({type:n,selectors:[["app-create-log"]],decls:15,vars:2,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],[1,"create-log"],[1,"create-log__input"],["placeholder","Title","type","text","name","title",3,"ngModel","ngModelChange"],["placeholder","Description","type","text","name","description",3,"ngModel","ngModelChange"],[1,"create-log-footer"],["color","primary","expand","full",1,"create-log-footer__button",3,"click"]],template:function(n,t){1&n&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return t.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.lc(6,"Create Log"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content",4),o.Kb(8,"ion-item",5),o.Kb(9,"ion-input",6),o.Sb("ngModelChange",(function(n){return t.log.title=n})),o.Jb(),o.Jb(),o.Kb(10,"ion-item",5),o.Kb(11,"ion-textarea",7),o.Sb("ngModelChange",(function(n){return t.log.description=n})),o.Jb(),o.Jb(),o.Jb(),o.Kb(12,"ion-footer",8),o.Kb(13,"ion-button",9),o.Sb("click",(function(){return t.add()})),o.lc(14," Add "),o.Jb(),o.Jb()),2&n&&(o.xb(9),o.Xb("ngModel",t.log.title),o.xb(2),o.Xb("ngModel",t.log.description))},directives:[i.o,i.G,i.h,i.g,i.p,i.F,i.k,i.r,i.q,i.R,r.d,r.g,i.E,i.n],styles:[""]}),n}()},"2c9M":function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return i})),e.d(t,"d",(function(){return l})),e.d(t,"e",(function(){return c}));var o={getEngine:function(){var n=window;return n.TapticEngine||n.Capacitor&&n.Capacitor.isPluginAvailable("Haptics")&&n.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(n){var t=this.getEngine();if(t){var e=this.isCapacitor()?n.style.toUpperCase():n.style;t.impact({style:e})}},notification:function(n){var t=this.getEngine();if(t){var e=this.isCapacitor()?n.style.toUpperCase():n.style;t.notification({style:e})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var n=this.getEngine();n&&(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged:function(){var n=this.getEngine();n&&(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd:function(){var n=this.getEngine();n&&(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},i=function(){o.selection()},r=function(){o.selectionStart()},a=function(){o.selectionChanged()},c=function(){o.selectionEnd()},l=function(n){o.impact(n)}},"6AEr":function(n,t,e){"use strict";e.d(t,"a",(function(){return b}));var o=e("fXoL"),i=e("TEn/"),r=e("bANG"),a=e("ohih"),c=e("3Pt+"),l=e("ofXK");function s(n,t){if(1&n&&(o.Kb(0,"ion-select-option",13),o.lc(1),o.Jb()),2&n){var e=t.$implicit;o.Xb("value",e.id),o.xb(1),o.mc(e.name)}}function u(n,t){if(1&n){var e=o.Lb();o.Kb(0,"div"),o.Kb(1,"ion-item"),o.Kb(2,"ion-label",5),o.lc(3,"Layer Name"),o.Jb(),o.Kb(4,"ion-input",14),o.Sb("ngModelChange",(function(n){return o.ec(e),o.Ub().track.layer_name=n})),o.Jb(),o.Jb(),o.Jb()}if(2&n){var i=o.Ub();o.xb(4),o.Xb("ngModel",i.track.layer_name)}}var b=function(){function n(n,t,e,o){var i=this;this.modalController=n,this.layerService=t,this.groupService=e,this.navParams=o,this.track={},this.layers=[],this.groupService.getCurrentGroup().then((function(n){var t=n||{};i.selectedGroup=t,t.id?i.layerService.getGroupLayers(t.id).then((function(n){i.layers=n})):i.layerService.getPrivateLayers().then((function(n){i.layers=n}))}))}return n.prototype.ngOnInit=function(){},n.prototype.add=function(){this.track.layer_name&&(this.track.group_id=this.selectedGroup.id?this.selectedGroup.id:"private"),this.modalController.dismiss({track:this.track})},n.prototype.dismiss=function(){this.modalController.dismiss()},n.\u0275fac=function(t){return new(t||n)(o.Hb(i.L),o.Hb(r.a),o.Hb(a.a),o.Hb(i.N))},n.\u0275cmp=o.Bb({type:n,selectors:[["app-add-item"]],decls:25,vars:4,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],[1,"ion-padding"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["name","placemark_layer",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["value","create"],[4,"ngIf"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"],[3,"value"],["type","text","name","layer-name",3,"ngModel","ngModelChange"]],template:function(n,t){1&n&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return t.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.lc(6,"Add Track"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content"),o.Kb(8,"p",4),o.lc(9,"Finish adding your tracked coordinates. Give the new track a name and select the layer you want this track to be assigned to."),o.Jb(),o.Kb(10,"ion-item"),o.Kb(11,"ion-label",5),o.lc(12,"Name"),o.Jb(),o.Kb(13,"ion-input",6),o.Sb("ngModelChange",(function(n){return t.track.name=n})),o.Jb(),o.Jb(),o.Kb(14,"ion-item"),o.Kb(15,"ion-label",5),o.lc(16,"Track Layer"),o.Jb(),o.Kb(17,"ion-select",7),o.Sb("ngModelChange",(function(n){return t.track.layer_id=n})),o.kc(18,s,2,2,"ion-select-option",8),o.Kb(19,"ion-select-option",9),o.lc(20,"Create new layer"),o.Jb(),o.Jb(),o.Jb(),o.kc(21,u,5,1,"div",10),o.Jb(),o.Kb(22,"ion-footer",11),o.Kb(23,"ion-button",12),o.Sb("click",(function(){return t.add()})),o.lc(24," Add "),o.Jb(),o.Jb()),2&n&&(o.xb(13),o.Xb("ngModel",t.track.name),o.xb(4),o.Xb("ngModel",t.track.layer_id),o.xb(1),o.Xb("ngForOf",t.layers),o.xb(3),o.Xb("ngIf","create"===t.track.layer_id))},directives:[i.o,i.G,i.h,i.g,i.p,i.F,i.k,i.r,i.t,i.q,i.R,c.d,c.g,i.B,i.Q,l.i,i.C,l.j,i.n],styles:[""]}),n}()},"6i10":function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var o={bubbles:{dur:1e3,circles:9,fn:function(n,t,e){var o="".concat(n*t/e-n,"ms"),i=2*Math.PI*t/e;return{r:5,style:{top:"".concat(9*Math.sin(i),"px"),left:"".concat(9*Math.cos(i),"px"),"animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:function(n,t,e){var o=t/e,i="".concat(n*o-n,"ms"),r=2*Math.PI*o;return{r:5,style:{top:"".concat(9*Math.sin(r),"px"),left:"".concat(9*Math.cos(r),"px"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(n,t){var e=-110*t+"ms";return{r:6,style:{left:"".concat(9-9*t,"px"),"animation-delay":e}}}},lines:{dur:1e3,lines:12,fn:function(n,t,e){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(n*t/e-n,"ms")}}}},"lines-small":{dur:1e3,lines:12,fn:function(n,t,e){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(n*t/e-n,"ms")}}}}}},"8geo":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("fXoL"),i=e("TEn/"),r=e("3Pt+"),a=function(){function n(n,t){this.modalController=n,this.navParams=t,this.layer={};var e=this.navParams.get("layer");this.layer=Object.assign({},e)}return n.prototype.ngOnInit=function(){},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.update=function(){this.modalController.dismiss({layer:this.layer})},n.\u0275fac=function(t){return new(t||n)(o.Hb(i.L),o.Hb(i.N))},n.\u0275cmp=o.Bb({type:n,selectors:[["app-edit-layer"]],decls:15,vars:1,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"]],template:function(n,t){1&n&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return t.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.lc(6,"Edit Layer"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content"),o.Kb(8,"ion-item"),o.Kb(9,"ion-label",4),o.lc(10,"Name"),o.Jb(),o.Kb(11,"ion-input",5),o.Sb("ngModelChange",(function(n){return t.layer.name=n})),o.Jb(),o.Jb(),o.Jb(),o.Kb(12,"ion-footer",6),o.Kb(13,"ion-button",7),o.Sb("click",(function(){return t.update()})),o.lc(14," Update "),o.Jb(),o.Jb()),2&n&&(o.xb(11),o.Xb("ngModel",t.layer.name))},directives:[i.o,i.G,i.h,i.g,i.p,i.F,i.k,i.r,i.t,i.q,i.R,r.d,r.g,i.n],styles:[""]}),n}()},AihK:function(n,t,e){"use strict";e.d(t,"a",(function(){return g}));var o=e("mrSG"),i=e("+6XZ"),r=e("d/mS"),a=e("wd/R"),c=e("fXoL"),l=e("TEn/"),s=e("rVxE"),u=e("3Pt+"),b=e("ofXK");function d(n,t){1&n&&(c.Kb(0,"div",9),c.Ib(1,"ion-spinner",0),c.Jb())}function f(n,t){if(1&n){var e=c.Lb();c.Kb(0,"ion-item",12),c.Kb(1,"ion-label",13),c.Kb(2,"h2"),c.lc(3),c.Kb(4,"span"),c.lc(5),c.Jb(),c.Jb(),c.Kb(6,"p"),c.lc(7),c.Jb(),c.Jb(),c.Kb(8,"ion-button",14),c.Sb("click",(function(){c.ec(e);var n=t.$implicit;return c.Ub(2).editLog(n)})),c.lc(9," Edit "),c.Jb(),c.Kb(10,"ion-button",15),c.Sb("click",(function(){c.ec(e);var n=t.$implicit;return c.Ub(2).deleteLog(n.id)})),c.lc(11," Delete "),c.Jb(),c.Jb()}if(2&n){var o=t.$implicit,i=c.Ub(2);c.xb(3),c.nc("",o.title," "),c.xb(2),c.mc(i.formatTime(o.created_at)),c.xb(2),c.nc(" ",o.description," ")}}function p(n,t){if(1&n&&(c.Kb(0,"ion-list",10),c.Kb(1,"ion-list-header"),c.lc(2),c.Jb(),c.kc(3,f,12,3,"ion-item",11),c.Ib(4,"ion-item-divider"),c.Jb()),2&n){var e=t.$implicit,o=c.Ub();c.xb(2),c.nc(" ",o.formatDate(e)," "),c.xb(1),c.Xb("ngForOf",o.logs[e])}}var g=function(){function n(n,t,e){this.modalController=n,this.logService=t,this.alertController=e,this.search="",this.loading=!0,this.logs={},this.dates=[],this.getLogs()}return n.prototype.ngOnInit=function(){},n.prototype.getLogs=function(){var n=this;this.logService.getLogs(this.search).then((function(t){n.formatLogs(t),n.loading=!1})).catch((function(){n.loading=!1}))},n.prototype.createLog=function(){return Object(o.a)(this,void 0,void 0,(function(){var n,t=this;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:i.a,componentProps:{}})];case 1:return(n=e.sent()).onDidDismiss().then((function(n){n&&n.data&&(console.log(n),t.logService.createLog(n.data.log).then((function(n){t.getLogs()})))})),[4,n.present()];case 2:return e.sent(),[2]}}))}))},n.prototype.editLog=function(n){return Object(o.a)(this,void 0,void 0,(function(){var t,e,i=this;return Object(o.c)(this,(function(o){switch(o.label){case 0:return t={},Object.assign(t,n),[4,this.modalController.create({component:r.a,componentProps:{log:t}})];case 1:return(e=o.sent()).onDidDismiss().then((function(t){t&&t.data&&(Object.assign(n,t.data.log),i.logService.editLog(t.data.log).then((function(n){})))})),[4,e.present()];case 2:return o.sent(),[2]}}))}))},n.prototype.deleteLog=function(n){return Object(o.a)(this,void 0,void 0,(function(){var t=this;return Object(o.c)(this,(function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Delete Log Entry",message:"Are you sure?",buttons:[{text:"Cancel",role:"cancel",handler:function(){}},{text:"Yes",handler:function(){t.logService.deleteLog(n).then((function(){t.getLogs()}))}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}}))}))},n.prototype.formatLogs=function(n){var t,e,i=[],r={};try{for(var c=Object(o.d)(n),l=c.next();!l.done;l=c.next()){var s=l.value,u=a(s.created_at).format("YYYY-MM-DD");i.indexOf(u)<0?(i.push(u),r[u]=[s]):r[u].push(s)}}catch(b){t={error:b}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}this.dates=i,this.logs=r},n.prototype.formatDate=function(n){return a(n).format("dddd, MMMM Do YYYY")},n.prototype.formatTime=function(n){return a(n).format("h:mma")},n.prototype.dismiss=function(){this.modalController.dismiss()},n.\u0275fac=function(t){return new(t||n)(c.Hb(l.L),c.Hb(s.a),c.Hb(l.a))},n.\u0275cmp=c.Bb({type:n,selectors:[["app-logs"]],decls:15,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["slot","end"],[1,"search__input"],["clearInput","","placeholder","Search","type","text","name","search",3,"ngModel","ngModelChange","ionChange"],["class","logs__loading",4,"ngIf"],["class","logs__list",4,"ngFor","ngForOf"],[1,"logs__loading"],[1,"logs__list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["slot","end",3,"click"],["color","danger","slot","end",3,"click"]],template:function(n,t){1&n&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar",0),c.Kb(2,"ion-buttons",1),c.Kb(3,"ion-button",2),c.Sb("click",(function(){return t.dismiss()})),c.Ib(4,"ion-icon",3),c.Jb(),c.Jb(),c.Kb(5,"ion-title"),c.lc(6,"Logs"),c.Jb(),c.Kb(7,"ion-buttons",4),c.Kb(8,"ion-button",2),c.Sb("click",(function(){return t.createLog()})),c.lc(9," Add Log Entry "),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(10,"ion-content"),c.Kb(11,"ion-item",5),c.Kb(12,"ion-input",6),c.Sb("ngModelChange",(function(n){return t.search=n}))("ionChange",(function(){return t.getLogs()})),c.Jb(),c.Jb(),c.kc(13,d,2,0,"div",7),c.kc(14,p,5,2,"ion-list",8),c.Jb()),2&n&&(c.xb(12),c.Xb("ngModel",t.search),c.xb(1),c.Xb("ngIf",t.loading),c.xb(1),c.Xb("ngForOf",t.dates))},directives:[l.o,l.G,l.h,l.g,l.p,l.F,l.k,l.r,l.q,l.R,u.d,u.g,b.j,b.i,l.D,l.u,l.v,l.s,l.t],styles:[".logs__loading[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:60px;text-align:center}.logs__loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0 auto;width:30px;height:30px}"]}),n}()},NqGI:function(n,t,e){"use strict";e.d(t,"a",(function(){return a})),e.d(t,"b",(function(){return c}));var o=e("o0o1"),i=e.n(o),r=e("HaE+"),a=function(){var n=Object(r.a)(i.a.mark((function n(t,e,o,r,a){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return",t.attachViewToDom(e,o,a,r));case 2:if("string"==typeof o||o instanceof HTMLElement){n.next=4;break}throw new Error("framework delegate is missing");case 4:if(c="string"==typeof o?e.ownerDocument&&e.ownerDocument.createElement(o):o,r&&r.forEach((function(n){return c.classList.add(n)})),a&&Object.assign(c,a),e.appendChild(c),!c.componentOnReady){n.next=11;break}return n.next=11,c.componentOnReady();case 11:return n.abrupt("return",c);case 12:case"end":return n.stop()}}),n)})));return function(t,e,o,i,r){return n.apply(this,arguments)}}(),c=function(n,t){if(t){if(n)return n.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},PV97:function(n,t,e){"use strict";e.d(t,"a",(function(){return y}));var o=e("AytR"),i=e("fXoL"),r=e("tyNb"),a=e("B7Rs"),c=e("a/9d"),l=e("TEn/"),s=e("ri4K"),u=e("ohih"),b=e("bANG"),d=e("3Pt+"),f=e("ofXK");function p(n,t){if(1&n&&(i.Kb(0,"ion-select-option",16),i.lc(1),i.Jb()),2&n){var e=t.$implicit;i.Xb("value",e.id),i.xb(1),i.mc(e.name)}}function g(n,t){if(1&n){var e=i.Lb();i.Kb(0,"div"),i.Kb(1,"ion-item"),i.Kb(2,"ion-label",4),i.lc(3,"Layer Name"),i.Jb(),i.Kb(4,"ion-input",17),i.Sb("ngModelChange",(function(n){return i.ec(e),i.Ub().newPlacemark.layer_name=n})),i.Jb(),i.Jb(),i.Jb()}if(2&n){var o=i.Ub();i.xb(4),i.Xb("ngModel",o.newPlacemark.layer_name)}}function m(n,t){1&n&&i.Ib(0,"ion-icon",18)}function h(n,t){if(1&n&&(i.Kb(0,"ion-avatar",19),i.Ib(1,"img",20),i.Jb()),2&n){var e=i.Ub();i.xb(1),i.Xb("src",e.newPlacemark.image,i.gc)}}var y=function(){function n(n,t,e,o,i,r,a,c,l,s,u){var b=this;this.router=n,this.transfer=t,this.camera=e,this.loadingController=o,this.alertController=i,this.modalController=r,this.navController=a,this.authenticationService=c,this.navParams=l,this.groupService=s,this.layerService=u,this.placemark={layer_id:1},this.newPlacemark={},this.layers=[],this.layerid="",this.user={},this.groupService.getCurrentGroup().then((function(n){n.id?b.layerService.getGroupLayers(n.id).then((function(n){b.layers=n,b.getAdminLayers()})):b.layerService.getPrivateLayers().then((function(n){b.layers=n,b.getAdminLayers()}))})),console.log(this.placemark)}return n.prototype.ngOnInit=function(){},n.prototype.getAdminLayers=function(){var n=this;this.authenticationService.getUserData().toPromise().then((function(t){n.user=t,"admin"===n.user.permission&&n.layerService.getDefaultLayers().then((function(t){n.layers=n.layers.concat(t)}))}))},n.prototype.changeImage=function(){var n=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(t){var e;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(n){e=n,n.present()}));var i=n.transfer.create(),r={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};i.upload(t,encodeURI(o.a.apiUrl+"/upload"),r).then((function(t){if(t.response){var o=JSON.parse(t.response);n.newPlacemark.image=o.file}e.dismiss()}),(function(t){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(t),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(n){n.present()})),e.dismiss()}))}),(function(n){}))},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.add=function(){this.modalController.dismiss({placemark:this.newPlacemark})},n.\u0275fac=function(t){return new(t||n)(i.Hb(r.g),i.Hb(a.a),i.Hb(c.a),i.Hb(l.J),i.Hb(l.a),i.Hb(l.L),i.Hb(l.M),i.Hb(s.a),i.Hb(l.N),i.Hb(u.a),i.Hb(b.a))},n.\u0275cmp=i.Bb({type:n,selectors:[["app-create-placemark"]],decls:28,vars:6,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["value","create"],[4,"ngIf"],[1,"edit-placemark-image"],["name","home",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"],[3,"value"],["clearInput","","type","text","name","layer-name",3,"ngModel","ngModelChange"],["name","home"],["item-start",""],[3,"src"]],template:function(n,t){1&n&&(i.Kb(0,"ion-header"),i.Kb(1,"ion-toolbar",0),i.Kb(2,"ion-buttons",1),i.Kb(3,"ion-button",2),i.Sb("click",(function(){return t.dismiss()})),i.Ib(4,"ion-icon",3),i.Jb(),i.Jb(),i.Kb(5,"ion-title"),i.lc(6,"Add Placemark"),i.Jb(),i.Jb(),i.Jb(),i.Kb(7,"ion-content"),i.Kb(8,"ion-item"),i.Kb(9,"ion-label",4),i.lc(10,"Name"),i.Jb(),i.Kb(11,"ion-input",5),i.Sb("ngModelChange",(function(n){return t.newPlacemark.name=n})),i.Jb(),i.Jb(),i.Kb(12,"ion-item"),i.Kb(13,"ion-label",4),i.lc(14,"Placemark Layer"),i.Jb(),i.Kb(15,"ion-select",6),i.Sb("ngModelChange",(function(n){return t.newPlacemark.layer_id=n})),i.kc(16,p,2,2,"ion-select-option",7),i.Kb(17,"ion-select-option",8),i.lc(18,"Create new layer"),i.Jb(),i.Jb(),i.Jb(),i.kc(19,g,5,1,"div",9),i.Kb(20,"ion-item",10),i.kc(21,m,1,0,"ion-icon",11),i.kc(22,h,2,1,"ion-avatar",12),i.Kb(23,"ion-button",13),i.Sb("click",(function(){return t.changeImage()})),i.lc(24,"Select Image"),i.Jb(),i.Jb(),i.Jb(),i.Kb(25,"ion-footer",14),i.Kb(26,"ion-button",15),i.Sb("click",(function(){return t.add()})),i.lc(27," Add "),i.Jb(),i.Jb()),2&n&&(i.xb(11),i.Xb("ngModel",t.newPlacemark.name),i.xb(4),i.Xb("ngModel",t.newPlacemark.layer_id),i.xb(1),i.Xb("ngForOf",t.layers),i.xb(3),i.Xb("ngIf","create"===t.newPlacemark.layer_id),i.xb(2),i.Xb("ngIf",!t.newPlacemark.image),i.xb(1),i.Xb("ngIf",t.newPlacemark.image))},directives:[l.o,l.G,l.h,l.g,l.p,l.F,l.k,l.r,l.t,l.q,l.R,d.d,d.g,l.B,l.Q,f.i,l.C,f.j,l.n,l.d],styles:[""]}),n}()},"U/uv":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("sxy2"),i=e("ItpF"),r=e("2c9M"),a=function(n,t){var e,a,c=function(n,o,i){if("undefined"!=typeof document){var r=document.elementFromPoint(n,o);r&&t(r)?r!==e&&(s(),l(r,i)):s()}},l=function(n,t){e=n,a||(a=e);var i=e;Object(o.g)((function(){return i.classList.add("ion-activated")})),t()},s=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=e;Object(o.g)((function(){return t.classList.remove("ion-activated")})),n&&a!==e&&e.click(),e=void 0}};return Object(i.createGesture)({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:function(n){return c(n.currentX,n.currentY,r.a)},onMove:function(n){return c(n.currentX,n.currentY,r.b)},onEnd:function(){s(!0),Object(r.e)(),a=void 0}})}},ZwNh:function(n,t,e){"use strict";e.d(t,"a",(function(){return b}));var o=e("wd/R"),i=e("fXoL"),r=e("TEn/"),a=e("3Pt+"),c=e("ofXK");function l(n,t){if(1&n&&(i.Kb(0,"p",16),i.lc(1),i.Jb()),2&n){var e=i.Ub();i.xb(1),i.nc(" ",e.error," ")}}function s(n,t){1&n&&i.Ib(0,"ion-icon",17)}function u(n,t){1&n&&i.Ib(0,"ion-spinner")}var b=function(){function n(n,t,e,o){this.modalController=n,this.loadingController=t,this.alertController=e,this.platform=o,this.card={},this.maxDate=(new Date).getFullYear()+10}return n.prototype.ngOnInit=function(){},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.makePayment=function(){var n=this;this.loading=!0,this.error="";var t={number:this.card.number,name:this.card.name,cvc:this.card.cvc,expMonth:o(this.card.expiry).format("MM"),expYear:o(this.card.expiry).format("YYYY")};cordova.plugins.stripe.createCardToken(t,(function(t){n.loading=!1,n.modalController.dismiss(t)}),(function(t){n.error=t,n.loading=!1}))},n.\u0275fac=function(t){return new(t||n)(i.Hb(r.L),i.Hb(r.J),i.Hb(r.a),i.Hb(r.O))},n.\u0275cmp=i.Bb({type:n,selectors:[["app-upgrade"]],decls:39,vars:9,consts:[["color","primary"],[1,"pay"],[1,"pay__form","ion-padding"],["size","auto"],["name","card"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[1,"pay__card-details"],[1,"pay__card-details__date"],["display-format","MM/YYYY","picker-format","MM/YYYY",3,"ngModel","max","ngModelChange"],[1,"pay__card-details__cvc"],["class","pay__error",4,"ngIf"],[1,"pay-footer"],["color","primary","expand","full",1,"pay-footer__button",3,"disabled","click"],["name","arrow-forward",4,"ngIf"],[4,"ngIf"],[1,"pay__error"],["name","arrow-forward"]],template:function(n,t){1&n&&(i.Kb(0,"ion-header"),i.Kb(1,"ion-toolbar",0),i.Kb(2,"ion-title"),i.lc(3,"Your Trial Has Expired"),i.Jb(),i.Jb(),i.Jb(),i.Kb(4,"ion-content",1),i.Kb(5,"ion-list",2),i.Kb(6,"p"),i.lc(7,"To continue using Get Outdoors, upgrade your account. By upgrading you unlock full access to all map types, as well as the ability to create your own tracks and placemarks."),i.Jb(),i.Kb(8,"h4"),i.lc(9,"Credit Card details"),i.Jb(),i.Kb(10,"ion-row"),i.Kb(11,"ion-col",3),i.Ib(12,"ion-icon",4),i.Jb(),i.Kb(13,"ion-col"),i.Kb(14,"ion-item"),i.Kb(15,"ion-label",5),i.lc(16,"Card Number"),i.Jb(),i.Kb(17,"ion-input",6),i.Sb("ngModelChange",(function(n){return t.card.number=n})),i.Jb(),i.Jb(),i.Kb(18,"ion-item"),i.Kb(19,"ion-label",5),i.lc(20,"Name On Card"),i.Jb(),i.Kb(21,"ion-input",6),i.Sb("ngModelChange",(function(n){return t.card.name=n})),i.Jb(),i.Jb(),i.Kb(22,"ion-row",7),i.Kb(23,"ion-col",8),i.Kb(24,"ion-item"),i.Kb(25,"ion-label",5),i.lc(26,"Expiration"),i.Jb(),i.Kb(27,"ion-datetime",9),i.Sb("ngModelChange",(function(n){return t.card.expiry=n})),i.Jb(),i.Jb(),i.Jb(),i.Kb(28,"ion-col",10),i.Kb(29,"ion-item"),i.Kb(30,"ion-label",5),i.lc(31,"CVC"),i.Jb(),i.Kb(32,"ion-input",6),i.Sb("ngModelChange",(function(n){return t.card.cvc=n})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.kc(33,l,2,1,"p",11),i.Jb(),i.Jb(),i.Kb(34,"ion-footer",12),i.Kb(35,"ion-button",13),i.Sb("click",(function(){return t.makePayment()})),i.lc(36," Upgrade for $7.99/month "),i.kc(37,s,1,0,"ion-icon",14),i.kc(38,u,1,0,"ion-spinner",15),i.Jb(),i.Jb()),2&n&&(i.xb(17),i.Xb("ngModel",t.card.number),i.xb(4),i.Xb("ngModel",t.card.name),i.xb(6),i.Xb("ngModel",t.card.expiry)("max",t.maxDate),i.xb(5),i.Xb("ngModel",t.card.cvc),i.xb(1),i.Xb("ngIf",t.error),i.xb(2),i.Xb("disabled",t.loading),i.xb(2),i.Xb("ngIf",!t.loading),i.xb(1),i.Xb("ngIf",t.loading))},directives:[r.o,r.G,r.F,r.k,r.u,r.y,r.j,r.p,r.r,r.t,r.q,r.R,a.d,a.g,r.l,r.Q,c.j,r.n,r.g,r.D],styles:[".pay[_ngcontent-%COMP%]   .pay__form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.pay[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;margin-top:20px}.pay[_ngcontent-%COMP%]   .pay__card-details[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-left:0;padding-right:0;align-self:stretch;align-self:flex-end}.pay[_ngcontent-%COMP%]   .pay__card-details[_ngcontent-%COMP%]   ion-col.pay__card-details__cvc[_ngcontent-%COMP%]{padding-left:15px}.pay[_ngcontent-%COMP%]   .pay__error[_ngcontent-%COMP%]{color:red;margin-top:15px;text-align:center}.pay-footer[_ngcontent-%COMP%]:before{display:none}.pay-footer[_ngcontent-%COMP%]   .pay-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()},"d/mS":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("fXoL"),i=e("TEn/"),r=e("3Pt+"),a=function(){function n(n,t){this.modalController=n,this.navParams=t;var e=this.navParams.get("log");this.log=e||{}}return n.prototype.ngOnInit=function(){},n.prototype.update=function(){this.modalController.dismiss({log:this.log})},n.prototype.dismiss=function(){this.modalController.dismiss()},n.\u0275fac=function(t){return new(t||n)(o.Hb(i.L),o.Hb(i.N))},n.\u0275cmp=o.Bb({type:n,selectors:[["app-edit-log"]],decls:15,vars:2,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],[1,"edit-log"],[1,"edit-log__input"],["placeholder","Title","type","text","name","title",3,"ngModel","ngModelChange"],["placeholder","Description","type","text","name","description",3,"ngModel","ngModelChange"],[1,"edit-log-footer"],["color","primary","expand","full",1,"edit-log-footer__button",3,"click"]],template:function(n,t){1&n&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return t.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.lc(6,"Edit Log"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content",4),o.Kb(8,"ion-item",5),o.Kb(9,"ion-input",6),o.Sb("ngModelChange",(function(n){return t.log.title=n})),o.Jb(),o.Jb(),o.Kb(10,"ion-item",5),o.Kb(11,"ion-textarea",7),o.Sb("ngModelChange",(function(n){return t.log.description=n})),o.Jb(),o.Jb(),o.Jb(),o.Kb(12,"ion-footer",8),o.Kb(13,"ion-button",9),o.Sb("click",(function(){return t.update()})),o.lc(14," Update "),o.Jb(),o.Jb()),2&n&&(o.xb(9),o.Xb("ngModel",t.log.title),o.xb(2),o.Xb("ngModel",t.log.description))},directives:[i.o,i.G,i.h,i.g,i.p,i.F,i.k,i.r,i.q,i.R,r.d,r.g,i.E,i.n],styles:[""]}),n}()},sPtc:function(n,t,e){"use strict";e.d(t,"a",(function(){return l})),e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return c})),e.d(t,"d",(function(){return b}));var o=e("o0o1"),i=e.n(o),r=e("HaE+"),a=e("rePB"),c=function(n,t){return null!==t.closest(n)},l=function(n,t){return"string"==typeof n&&n.length>0?Object.assign(Object(a.a)({"ion-color":!0},"ion-color-".concat(n),!0),t):t},s=function(n){var t={};return function(n){return void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter((function(n){return null!=n})).map((function(n){return n.trim()})).filter((function(n){return""!==n})):[]}(n).forEach((function(n){return t[n]=!0})),t},u=/^[a-z][a-z0-9+\-.]*:/,b=function(){var n=Object(r.a)(i.a.mark((function n(t,e,o,r){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||"#"===t[0]||u.test(t)){n.next=5;break}if(!(a=document.querySelector("ion-router"))){n.next=5;break}return null!=e&&e.preventDefault(),n.abrupt("return",a.push(t,o,r));case 5:return n.abrupt("return",!1);case 6:case"end":return n.stop()}}),n)})));return function(t,e,o,i){return n.apply(this,arguments)}}()}}]);