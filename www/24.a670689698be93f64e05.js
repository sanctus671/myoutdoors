(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{IEcJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var i=t("AytR"),o=t("fXoL"),a=t("tyNb"),r=t("B7Rs"),c=t("a/9d"),l=t("TEn/"),b=t("ri4K"),s=t("ZH29"),p=t("3Pt+"),m=t("ofXK");function u(e,n){1&e&&o.Ib(0,"ion-icon",14)}function g(e,n){if(1&e&&(o.Kb(0,"ion-avatar",15),o.Ib(1,"img",16),o.Jb()),2&e){var t=o.Wb();o.xb(1),o.Zb("src",t.placemark.image,o.kc)}}function d(e,n){if(1&e){var t=o.Lb();o.Kb(0,"ion-button",17),o.Sb("click",(function(){return o.ic(t),o.Wb().placemark.image=""})),o.pc(1,"Delete"),o.Jb()}}var f=function(){function e(e,n,t,i,o,a,r,c,l,b){this.router=e,this.transfer=n,this.camera=t,this.loadingController=i,this.alertController=o,this.modalController=a,this.navController=r,this.authenticationService=c,this.navParams=l,this.keyboard=b,this.placemark={};var s=this.navParams.get("placemark");this.placemark=Object.assign({},s)}return e.prototype.ngOnInit=function(){},e.prototype.showKeyboard=function(){this.keyboard.show()},e.prototype.hideKeyboard=function(){this.keyboard.hide()},e.prototype.changeImage=function(e){var n=this;this.camera.getPicture({sourceType:"camera"===e?this.camera.PictureSourceType.CAMERA:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(e){var t;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(e){t=e,e.present()}));var o=n.transfer.create(),a={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};o.upload(e,encodeURI(i.a.apiUrl+"/upload"),a).then((function(e){if(e.response){var i=JSON.parse(e.response);n.placemark.image=i.file}t.dismiss()}),(function(e){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(e),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(e){e.present()})),t.dismiss()}))}),(function(e){}))},e.prototype.dismiss=function(){this.modalController.dismiss()},e.prototype.update=function(){this.modalController.dismiss({placemark:this.placemark})},e.\u0275fac=function(n){return new(n||e)(o.Hb(a.g),o.Hb(r.a),o.Hb(c.a),o.Hb(l.I),o.Hb(l.a),o.Hb(l.K),o.Hb(l.L),o.Hb(b.a),o.Hb(l.M),o.Hb(s.a))},e.\u0275cmp=o.Bb({type:e,selectors:[["app-edit-placemark"]],decls:27,vars:5,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[1,"edit-placemark-image"],["name","home",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],["color","primary","fill","clear",3,"click",4,"ngIf"],[3,"ngModel","ngModelChange"],[1,"edit-layer-footer"],["color","primary","expand","full",1,"edit-layer-footer__button",3,"click"],["name","home"],["item-start",""],[3,"src"],["color","primary","fill","clear",3,"click"]],template:function(e,n){1&e&&(o.Kb(0,"ion-header"),o.Kb(1,"ion-toolbar",0),o.Kb(2,"ion-buttons",1),o.Kb(3,"ion-button",2),o.Sb("click",(function(){return n.dismiss()})),o.Ib(4,"ion-icon",3),o.Jb(),o.Jb(),o.Kb(5,"ion-title"),o.pc(6,"Edit Placemark"),o.Jb(),o.Jb(),o.Jb(),o.Kb(7,"ion-content"),o.Kb(8,"ion-item"),o.Kb(9,"ion-label",4),o.pc(10,"Name"),o.Jb(),o.Kb(11,"ion-input",5),o.Sb("ngModelChange",(function(e){return n.placemark.name=e})),o.Jb(),o.Jb(),o.Kb(12,"ion-item",6),o.oc(13,u,1,0,"ion-icon",7),o.oc(14,g,2,1,"ion-avatar",8),o.Kb(15,"ion-button",9),o.Sb("click",(function(){return n.changeImage("library")})),o.pc(16,"Select Image"),o.Jb(),o.Kb(17,"ion-button",9),o.Sb("click",(function(){return n.changeImage("camera")})),o.pc(18,"Take Picture"),o.Jb(),o.oc(19,d,2,0,"ion-button",10),o.Jb(),o.Kb(20,"ion-item"),o.Kb(21,"ion-label",4),o.pc(22,"Description"),o.Jb(),o.Kb(23,"ion-textarea",11),o.Sb("ngModelChange",(function(e){return n.placemark.description=e})),o.Jb(),o.Jb(),o.Jb(),o.Kb(24,"ion-footer",12),o.Kb(25,"ion-button",13),o.Sb("click",(function(){return n.update()})),o.pc(26," Update "),o.Jb(),o.Jb()),2&e&&(o.xb(11),o.Zb("ngModel",n.placemark.name),o.xb(2),o.Zb("ngIf",!n.placemark.image),o.xb(1),o.Zb("ngIf",n.placemark.image),o.xb(5),o.Zb("ngIf",n.placemark.image),o.xb(4),o.Zb("ngModel",n.placemark.description))},directives:[l.o,l.F,l.h,l.g,l.p,l.E,l.k,l.r,l.t,l.q,l.Q,p.e,p.h,m.j,l.D,l.n,l.d],styles:[".edit-placemark-image[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:5px}.edit-placemark-image[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px}angular-editor[_ngcontent-%COMP%]{margin-top:20px;display:block}"]}),e}()},z5KQ:function(e,n,t){"use strict";t.r(n),t.d(n,"EditPlacemarkPageModule",(function(){return p}));var i=t("ofXK"),o=t("3Pt+"),a=t("TEn/"),r=t("tyNb"),c=t("IEcJ"),l=t("fXoL"),b=[{path:"",component:c.a}],s=function(){function e(){}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[r.j.forChild(b)],r.j]}),e}(),p=function(){function e(){}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[i.b,o.b,a.G,s]]}),e}()}}]);