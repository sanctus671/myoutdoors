(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{Swt2:function(e,n,t){"use strict";t.r(n),t.d(n,"EditGroupPageModule",(function(){return l}));var o=t("ofXK"),i=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),c=t("yPcR"),s=t("fXoL"),u=[{path:"",component:c.a}],b=function(){function e(){}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(n){return new(n||e)},imports:[[a.j.forChild(u)],a.j]}),e}(),l=function(){function e(){}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(n){return new(n||e)},imports:[[o.b,i.b,r.G,b]]}),e}()},yPcR:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var o=t("AytR"),i=t("fXoL"),r=t("tyNb"),a=t("B7Rs"),c=t("a/9d"),s=t("TEn/"),u=t("ri4K"),b=t("ofXK"),l=t("3Pt+");function p(e,n){1&e&&i.Ib(0,"ion-icon",18)}function g(e,n){if(1&e&&(i.Kb(0,"ion-avatar",19),i.Ib(1,"img",20),i.Jb()),2&e){var t=i.Wb();i.xb(1),i.Zb("src",t.group.image,i.kc)}}var d=function(){function e(e,n,t,o,i,r,a,c,s){this.router=e,this.transfer=n,this.camera=t,this.loadingController=o,this.alertController=i,this.modalController=r,this.navController=a,this.authenticationService=c,this.navParams=s,this.group={};var u=this.navParams.get("group");this.group=Object.assign({},u)}return e.prototype.ngOnInit=function(){},e.prototype.dismiss=function(){this.modalController.dismiss()},e.prototype.changeImage=function(){var e=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(n){var t;e.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(e){t=e,e.present()}));var i=e.transfer.create(),r={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};i.upload(n,encodeURI(o.a.apiUrl+"/upload"),r).then((function(n){if(n.response){var o=JSON.parse(n.response);e.group.image=o.file}t.dismiss()}),(function(n){e.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(n),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(e){e.present()})),t.dismiss()}))}),(function(e){}))},e.prototype.deleteGroup=function(){var e=this;this.alertController.create({header:"Are you sure?",message:"By deleting this group, all layers and discussions will be deleted.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Yes",handler:function(){e.modalController.dismiss({deleted:e.group.id})}}]}).then((function(e){e.present()}))},e.prototype.update=function(){this.modalController.dismiss({group:this.group})},e.\u0275fac=function(n){return new(n||e)(i.Hb(r.g),i.Hb(a.a),i.Hb(c.a),i.Hb(s.I),i.Hb(s.a),i.Hb(s.K),i.Hb(s.L),i.Hb(u.a),i.Hb(s.M))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-edit-group"]],decls:33,vars:5,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close"],["slot","end"],["name","trash"],[1,"create-group"],[1,"create-group__form"],[1,"create-group__form__avatar"],["name","people",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["slot","end",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"create-group-footer"],["color","primary","expand","full",1,"create-group-footer__button",3,"click"],["name","people"],["item-start",""],[3,"src"]],template:function(e,n){1&e&&(i.Kb(0,"ion-header"),i.Kb(1,"ion-toolbar",0),i.Kb(2,"ion-buttons",1),i.Kb(3,"ion-button",2),i.Sb("click",(function(){return n.dismiss()})),i.Ib(4,"ion-icon",3),i.Jb(),i.Jb(),i.Kb(5,"ion-title"),i.pc(6,"Update Group"),i.Jb(),i.Kb(7,"ion-buttons",4),i.Kb(8,"ion-button",2),i.Sb("click",(function(){return n.deleteGroup()})),i.Ib(9,"ion-icon",5),i.pc(10," Delete "),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(11,"ion-content",6),i.Kb(12,"ion-list",7),i.Kb(13,"ion-item",8),i.oc(14,p,1,0,"ion-icon",9),i.oc(15,g,2,1,"ion-avatar",10),i.Kb(16,"ion-button",11),i.Sb("click",(function(){return n.changeImage()})),i.pc(17,"Select Photo"),i.Jb(),i.Jb(),i.Kb(18,"ion-item"),i.Kb(19,"ion-label",12),i.pc(20,"Name"),i.Jb(),i.Kb(21,"ion-input",13),i.Sb("ngModelChange",(function(e){return n.group.name=e})),i.Jb(),i.Jb(),i.Kb(22,"ion-item"),i.Kb(23,"ion-label"),i.pc(24,"Public"),i.Jb(),i.Kb(25,"ion-checkbox",14),i.Sb("ngModelChange",(function(e){return n.group.public=e})),i.Jb(),i.Jb(),i.Kb(26,"ion-item"),i.Kb(27,"ion-label",12),i.pc(28,"Description"),i.Jb(),i.Kb(29,"ion-textarea",15),i.Sb("ngModelChange",(function(e){return n.group.description=e})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(30,"ion-footer",16),i.Kb(31,"ion-button",17),i.Sb("click",(function(){return n.update()})),i.pc(32," Update "),i.Jb(),i.Jb()),2&e&&(i.xb(14),i.Zb("ngIf",!n.group.image),i.xb(1),i.Zb("ngIf",n.group.image),i.xb(6),i.Zb("ngModel",n.group.name),i.xb(4),i.Zb("ngModel",n.group.public),i.xb(4),i.Zb("ngModel",n.group.description))},directives:[s.o,s.F,s.h,s.g,s.p,s.E,s.k,s.u,s.r,b.j,s.t,s.q,s.Q,l.e,l.h,s.i,s.b,s.D,s.n,s.d],styles:[""]}),e}()}}]);