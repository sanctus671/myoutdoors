(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{UUSl:function(n,e,o){"use strict";o.r(e),o.d(e,"SignupPageModule",(function(){return f}));var t=o("ofXK"),r=o("3Pt+"),i=o("tyNb"),s=o("TEn/"),a=o("mrSG"),c=o("fXoL"),u=o("ri4K"),l=o("m/P+");function g(n,e){if(1&n&&(c.Kb(0,"p",18),c.pc(1),c.Jb()),2&n){var o=c.Wb();c.xb(1),c.qc(o.user.error)}}function b(n,e){1&n&&c.Ib(0,"ion-icon",19)}function p(n,e){1&n&&c.Ib(0,"ion-spinner")}var h=function(n){return{invalidItem:n}},d=[{path:"",component:function(){function n(n,e){this.authService=n,this.iab=e,this.user={email:"",password:"",error:"",city:"",country:"New Zealand",latitude:-36.866667,longitude:174.766667,loading:!1,tos:!0},this.cities=[],this.countries=["New Zealand","Australia"]}return n.prototype.ngOnInit=function(){},n.prototype.signup=function(){var n=this;this.user.loading=!0,this.user.error="",this.user.email&&this.user.first_name&&this.user.last_name||(this.user.loading=!1,this.user.error="Required fields not filled in. "),this.user.tos||(this.user.loading=!1,this.user.error="Please accept the Terms and Conditions"),this.authService.register(this.user).then((function(){n.user.loading=!1,n.authService.retreiveUserData().then((function(){})).catch((function(){}))})).catch((function(e){if(n.user.loading=!1,e&&e.error)for(var o in e.error.error.errors)n.user.error=n.user.error+e.error.error.errors[o]+" ";else n.user.error=e.message}))},n.prototype.cityChanged=function(){var n,e;try{for(var o=Object(a.d)(this.cities),t=o.next();!t.done;t=o.next()){var r=t.value;r.city===this.user.city&&(this.user.latitude=r.lat,this.user.longitidue=r.lng)}}catch(i){n={error:i}}finally{try{t&&!t.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}},n.prototype.openTos=function(n){n.preventDefault(),n.stopPropagation(),this.iab.create("https://my-outdoors.co.nz/terms-and-conditions","_system")},n.\u0275fac=function(e){return new(e||n)(c.Hb(u.a),c.Hb(l.a))},n.\u0275cmp=c.Bb({type:n,selectors:[["app-signup"]],decls:36,vars:15,consts:[["color","primary"],["slot","start"],["defaultHref","/login"],[1,"signup"],[1,"signup__form"],[3,"ngClass"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["clearInput","","type","password",3,"ngModel","ngModelChange"],["no-lines","","no-padding","",1,"custom-checkbox"],[3,"click"],["name","agree","checked","true","required","",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full",1,"signup-footer__button",3,"disabled","click"],["name","arrow-forward",4,"ngIf"],[4,"ngIf"],[1,"signup__form__error"],["name","arrow-forward"]],template:function(n,e){1&n&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar",0),c.Kb(2,"ion-buttons",1),c.Ib(3,"ion-back-button",2),c.Jb(),c.Kb(4,"ion-title"),c.pc(5,"Sign Up"),c.Jb(),c.Jb(),c.Jb(),c.Kb(6,"ion-content",3),c.Kb(7,"ion-list",4),c.Kb(8,"ion-item",5),c.Kb(9,"ion-label",6),c.pc(10,"Email *"),c.Jb(),c.Kb(11,"ion-input",7),c.Sb("ngModelChange",(function(n){return e.user.email=n})),c.Jb(),c.Jb(),c.Kb(12,"ion-item",5),c.Kb(13,"ion-label",6),c.pc(14,"Name *"),c.Jb(),c.Kb(15,"ion-input",8),c.Sb("ngModelChange",(function(n){return e.user.name=n})),c.Jb(),c.Jb(),c.Kb(16,"ion-item"),c.Kb(17,"ion-label",6),c.pc(18,"Password"),c.Jb(),c.Kb(19,"ion-input",9),c.Sb("ngModelChange",(function(n){return e.user.password=n})),c.Jb(),c.Jb(),c.Kb(20,"ion-item"),c.Kb(21,"ion-label",6),c.pc(22,"Confirm Password"),c.Jb(),c.Kb(23,"ion-input",9),c.Sb("ngModelChange",(function(n){return e.user.confirm_password=n})),c.Jb(),c.Jb(),c.Kb(24,"ion-item",10),c.Kb(25,"ion-label"),c.pc(26,"I agree to the Get Outdoors "),c.Kb(27,"a",11),c.Sb("click",(function(n){return e.openTos(n)})),c.pc(28,"Terms and Conditions"),c.Jb(),c.Jb(),c.Kb(29,"ion-checkbox",12),c.Sb("ngModelChange",(function(n){return e.user.tos=n})),c.Jb(),c.Jb(),c.oc(30,g,2,1,"p",13),c.Jb(),c.Jb(),c.Kb(31,"ion-footer",14),c.Kb(32,"ion-button",15),c.Sb("click",(function(){return e.signup()})),c.pc(33," Get Started\xa0\xa0 "),c.oc(34,b,1,0,"ion-icon",16),c.oc(35,p,1,0,"ion-spinner",17),c.Jb(),c.Jb()),2&n&&(c.xb(8),c.Zb("ngClass",c.cc(11,h,!e.user.email&&e.user.error)),c.xb(3),c.Zb("ngModel",e.user.email),c.xb(1),c.Zb("ngClass",c.cc(13,h,!e.user.name&&e.user.error)),c.xb(3),c.Zb("ngModel",e.user.name),c.xb(4),c.Zb("ngModel",e.user.password),c.xb(4),c.Zb("ngModel",e.user.confirm_password),c.xb(6),c.Zb("ngModel",e.user.tos),c.xb(1),c.Zb("ngIf",e.user.error),c.xb(2),c.Zb("disabled",e.user.loading),c.xb(2),c.Zb("ngIf",!e.user.loading),c.xb(1),c.Zb("ngIf",e.user.loading))},directives:[s.o,s.F,s.h,s.e,s.f,s.E,s.k,s.u,s.r,t.h,s.t,s.q,s.Q,r.e,r.h,s.i,s.b,r.k,t.j,s.n,s.g,s.p,s.C],styles:[".invalidItem[_ngcontent-%COMP%]{--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight));--border-color:var(--ion-item-border-color,var(--ion-border-color,red))}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{position:relative}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal;padding-left:15px;padding-right:15px}.signup-footer[_ngcontent-%COMP%]{background-color:#fff}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()}],f=function(){function n(){}return n.\u0275mod=c.Fb({type:n}),n.\u0275inj=c.Eb({factory:function(e){return new(e||n)},imports:[[t.b,r.b,s.G,i.j.forChild(d)]]}),n}()}}]);